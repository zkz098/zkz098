const CONFIG={version:"0.3.10",hostname:"https://www.kaitaku.xyz",root:"/",statics:"/",favicon:{normal:"assets/favicon.ico",hidden:"assets/failure.ico"},darkmode:!1,auto_dark:{enable:!0,start:20,end:7},auto_scroll:!0,js:{chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.16.7/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"},css:{katex:"npm/katex@0.16.7/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!0,switch:!1},search:{appID:"Z90S0X07N8",apiKey:"8770deb4853046c6fb7f786f02ab69be",indexName:"kaitaku-blog",hits:{per_page:10}},outime:{enable:!1,days:90},quicklink:{timeout:3e3,priority:!0},playerAPI:"https://api.injahow.cn",disableVL:!1,noPlayer:!1,audio:[{title:"\u5217\u88681",list:["https://music.163.com/#/playlist?id=2943811283","https://music.163.com/#/playlist?id=2297706586"]},{title:"\u5217\u88682",list:["https://music.163.com/#/playlist?id=2031842656"]}],fireworks:["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"]};(()=>{var z=Object.defineProperty,pe=Object.getOwnPropertyDescriptor,me=Object.getOwnPropertyNames,ge=Object.prototype.hasOwnProperty,S=(e,a)=>()=>(e&&(a=e(e=0)),a),O=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),fe=(e,a)=>{for(var i in a)z(e,i,{get:a[i],enumerable:!0})},ve=(e,a,i,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of me(a))!ge.call(e,n)&&n!==i&&z(e,n,{get:()=>a[n],enumerable:!(t=pe(a,n))||t.enumerable});return e},ye=e=>ve(z({},"__esModule",{value:!0}),e),A=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocHeight=e.$dom=void 0;var a=()=>i("main > .inner").offsetHeight;e.getDocHeight=a;var i=(t,n=document)=>t[0]==="#"?n.getElementById(t.substring(1)):n.querySelector(t);e.$dom=i,i.all=(t,n=document)=>n.querySelectorAll(t),i.each=(t,n,d)=>{i.all(t,d).forEach(n)},i.asyncify=async(t,n=document)=>t[0]==="#"?n.getElementById(t.substring(1)):n.querySelector(t),i.asyncifyEach=(t,n,d)=>{i.all(t,d).forEach(n)}}),be=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=A();function i(){Object.assign(HTMLElement.prototype,{createChild(t,n,d){let u=document.createElement(t);switch(Object.assign(u,n),d){case"after":this.insertAfter(u);break;case"replace":this.innerHTML="",this.appendChild(u);break;default:this.appendChild(u)}return u},wrapObject(t){let n=document.createElement("div");Object.assign(n,t),this.parentNode.insertBefore(n,this),this.parentNode.removeChild(this),n.appendChild(this)},changeOrGetHeight(t){return t&&(this.style.height=typeof t=="number"?t+"rem":t),this.getBoundingClientRect().height},changeOrGetWidth(t){return t&&(this.style.width=typeof t=="number"?t+"rem":t),this.getBoundingClientRect().width},getTop(){return this.getBoundingClientRect().top},left(){return this.getBoundingClientRect().left},attr(t,n){return n===null?this.removeAttribute(t):n?(this.setAttribute(t,n),this):this.getAttribute(t)},insertAfter(t){let n=this.parentNode;n.lastChild===this?n.appendChild(t):n.insertBefore(t,this.nextSibling)},display(t){return t==null?this.style.display:(this.style.display=t,this)},child(t){return(0,a.$dom)(t,this)},find(t){return a.$dom.all(t,this)},_class(t,n,d){(n.indexOf(" ")?n.split(" "):[n]).forEach(u=>{t==="toggle"?this.classList.toggle(u,d):this.classList[t](u)})},addClass(t){return this._class("add",t),this},removeClass(t){return this._class("remove",t),this},toggleClass(t,n){return this._class("toggle",t,n),this},hasClass(t){return this.classList.contains(t)}})}e.default=i}),j=O(e=>{"use strict";var a=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.setSiteSearch=e.setToolBtn=e.setShowContents=e.setGoToComment=e.setBackToTop=e.setToolPlayer=e.setOriginTitle=e.setPjax=e.setLocalUrl=e.setLocalHash=e.setTitleTime=e.setDiffY=e.setOWinWidth=e.setOWinHeight=e.setHeaderHight=e.setHeaderHightInner=e.setSiteNavHeight=e.pjax=e.LOCAL_URL=e.LOCAL_HASH=e.oWinWidth=e.oWinHeight=e.headerHight=e.headerHightInner=e.siteNavHeight=e.siteSearch=e.showContents=e.goToComment=e.backToTop=e.toolPlayer=e.toolBtn=e.siteBrand=e.sideBar=e.quickBtn=e.menuToggle=e.siteHeader=e.siteNav=e.loadCat=e.Container=e.HTML=e.BODY=e.titleTime=e.originTitle=e.diffY=e.scrollAction=e.statics=void 0;var i=A(),t=a(be());(0,t.default)(),e.statics=CONFIG.statics.indexOf("//")>0?CONFIG.statics:CONFIG.root,e.scrollAction={x:0,y:0},e.diffY=0,e.BODY=document.getElementsByTagName("body")[0],e.HTML=document.documentElement,e.Container=(0,i.$dom)("#container"),e.loadCat=(0,i.$dom)("#loading"),e.siteNav=(0,i.$dom)("#nav"),e.siteHeader=(0,i.$dom)("#header"),e.menuToggle=e.siteNav.child(".toggle"),e.quickBtn=(0,i.$dom)("#quick"),e.sideBar=(0,i.$dom)("#sidebar"),e.siteBrand=(0,i.$dom)("#brand"),e.toolBtn=(0,i.$dom)("#tool"),e.siteSearch=(0,i.$dom)("#search"),e.oWinHeight=window.innerHeight,e.oWinWidth=window.innerWidth,e.LOCAL_HASH=0,e.LOCAL_URL=window.location.href;function n(p){e.siteNavHeight=p}e.setSiteNavHeight=n;function d(p){e.headerHightInner=p}e.setHeaderHightInner=d;function u(p){e.headerHight=p}e.setHeaderHight=u;function r(p){e.oWinHeight=p}e.setOWinHeight=r;function c(p){e.oWinWidth=p}e.setOWinWidth=c;function y(p){e.diffY=p}e.setDiffY=y;function s(p){e.titleTime=p}e.setTitleTime=s;function l(p){e.LOCAL_HASH=p}e.setLocalHash=l;function h(p){e.LOCAL_URL=p}e.setLocalUrl=h;function m(p){e.pjax=p}e.setPjax=m;function b(p){e.originTitle=p}e.setOriginTitle=b;function T(p){e.toolPlayer=p}e.setToolPlayer=T;function C(p){e.backToTop=p}e.setBackToTop=C;function L(p){e.goToComment=p}e.setGoToComment=L;function w(p){e.showContents=p}e.setShowContents=w;function x(p){e.toolBtn=p}e.setToolBtn=x;function f(p){e.siteSearch=p}e.setSiteSearch=f}),ie=O((e,a)=>{(function(i,t){typeof e=="object"&&typeof a<"u"?a.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self).anime=t()})(e,function(){"use strict";class i{constructor(){this.queue=[]}add(s){return this.queue.push(new r(s)),this}play(){this.queue.forEach(s=>s.play())}}let t={targets:null,duration:1/0,easing:"linear",delay:0,begin:null,update:null,complete:null};var n=()=>{let y={linear:()=>l=>l},s={Sine:()=>l=>1-Math.cos(l*Math.PI/2),Circ:()=>l=>1-Math.sqrt(1-l*l),Back:()=>l=>l*l*(3*l-2),Bounce:()=>l=>{let h,m=4;for(;l<((h=Math.pow(2,--m))-1)/11;);return 1/Math.pow(4,3-m)-7.5625*Math.pow((3*h-2)/22-l,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((l,h)=>{s[l]=()=>m=>Math.pow(m,h+2)}),Object.keys(s).forEach(l=>{let h=s[l];y["easeIn"+l]=h,y["easeOut"+l]=()=>m=>1-h()(1-m),y["easeInOut"+l]=()=>m=>m<.5?h()(2*m)/2:1-h()(-2*m+2)/2,y["easeOutIn"+l]=()=>m=>m<.5?(1-h()(1-2*m))/2:(h()(2*m-1)+1)/2}),y};let d=["translateX","translateY","translateZ"],u=(y,s)=>y instanceof HTMLElement&&y.style&&"transform"in y.style&&d.includes(s)?"transform":y instanceof HTMLElement&&y.style&&s in y.style?"style":"attribute";class r{constructor(s=t){s=Object.assign({},t,s);let{targets:l,duration:h,easing:m,delay:b,begin:T,update:C,complete:L,...w}=s;this.targets=l,this.duration=h,this.easing=m,this.delay=b,this.begin=T,this.update=C,this.complete=L,this.dest=w||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl===null&&(this.tl=new i),this.tl}play(){this.isPlay||(this.isPlay=!0,(s=>{let l=Date.now()+s.delay,h=l+s.duration,m=!!s.targets,b=[],T=(w,x,f,p,k,o=!1)=>{let g;if(typeof p=="string")if(p.endsWith("%"))g="%",p=parseFloat(p);else{if(!p.endsWith("px"))throw new TypeError("string value must ends with '%' or 'px'");g="px",p=parseFloat(p)}let v=o?p:(p-x)*f+x;switch(g&&(v+=g),u(w,k)){case"transform":w.style.transform=g?`${k}(${v})`:`${k}(${v}px)`;break;case"style":w.style[k]=v;break;case"attribute":w[k]=v}},C=(w,x,f=!1)=>{s.targets.forEach((p,k)=>{Object.keys(s.dest).forEach(o=>{let g=parseFloat(b[k][o]),v=s.dest[o];if(typeof v=="object")if(Array.isArray(v)){let M=0;for(;M<v.length&&!(x-l<v[M].startTimeStamp);M++);let{value:E,duration:H,easing:$,startTimeStamp:B}=v[M-1];x<=l+H+B?(w=n()[$||s.easing]()((x-l)/H),T(p,g,w,E,o)):f&&T(p,g,w,E,o,f)}else{let{value:M,duration:E,easing:H}=v;x<=l+E?(w=n()[H||s.easing]()((x-l)/E),T(p,g,w,M,o)):f&&T(p,g,w,M,o,f)}else typeof v=="function"&&(v=v(p,k)),T(p,g,w,v,o,f)})})},L=()=>{let w=Date.now();if(w>h)return C(1,w,!0),typeof s.complete=="function"&&s.complete(s.targets),void(s.isPlay=!1);if(w<l)return void requestAnimationFrame(L);let x=n()[s.easing]()((w-l)/s.duration);m&&C(x,w),typeof s.update=="function"&&s.update(s.targets),requestAnimationFrame(L)};(()=>{if(m){Array.isArray(s.targets)||(s.targets=[s.targets]);for(let w of s.targets){let x={};for(let f in s.dest){let p=s.dest[f];if(Array.isArray(p))if(p.length===2&&typeof p[0]!="object"){switch(u(w,f)){case"transform":typeof p[0]=="string"?w.style.transform=`${f}(${p[0]})`:w.style.transform=`${f}(${p[0]}px)`;break;case"style":w.style[f]=p[0];break;case"attribute":w[f]=p[0]}x[f]=p[0],s.dest[f]=p[1]}else{let k=0;for(let o of p)o.startTimeStamp=k,k+=o.duration;x[f]=w[f]}else switch(u(w,f)){case"transform":let k=new RegExp(`${f}((w+))`,"g");x[f]=w.style.transform.match(k)[0];break;case"style":x[f]=w.style[f];break;case"attribute":x[f]=w[f]}}b.push(x)}}})(),typeof s.begin=="function"&&s.begin(s.targets),L()})(this))}}let c=y=>new r(y);return c.random=function(y,s){return Math.floor(Math.random()*(s-y+1))+y},c})}),P=O(e=>{"use strict";var a=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.pageScroll=e.transition=void 0;var i=a(ie()),t=j(),n=(u,r,c,y)=>{let s,l="none";switch(r){case 0:s={opacity:[1,0]};break;case 1:s={opacity:[0,1]},l="block";break;case"bounceUpIn":s={begin(h){u.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},l="block";break;case"shrinkIn":s={begin(h){u.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},l="block";break;case"slideRightIn":s={begin(h){u.display("block")},translateX:["100%","0%"],opacity:[0,1]},l="block";break;case"slideRightOut":s={translateX:["0%","100%"],opacity:[1,0]};break;default:s=r,l=r.display;break}(0,i.default)(Object.assign({targets:u,duration:200,easing:"linear",begin(){y&&y()},complete(){u.display(l),c&&c()}},s)).play()};e.transition=n;var d=(u,r,c)=>{(0,i.default)({targets:typeof r=="number"&&typeof u!="number"?u.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:r||(typeof u=="number"?u:u?u.getTop()+document.documentElement.scrollTop-t.siteNavHeight:0),complete(){c&&c()}}).play()};e.pageScroll=d}),X=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$storage=void 0,e.$storage={set(a,i){localStorage.setItem(a,i)},get(a){return localStorage.getItem(a)},del(a){localStorage.removeItem(a)}}}),D=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clipBoard=e.positionInit=e.pagePosition=e.showtip=void 0;var a=P(),i=A(),t=X(),n=j(),d=y=>{if(!y)return;let s=n.BODY.createChild("div",{innerHTML:y,className:"tip"});setTimeout(()=>{s.addClass("hide"),setTimeout(()=>{n.BODY.removeChild(s)},300)},3e3)};e.showtip=d;var u=()=>{CONFIG.auto_scroll&&t.$storage.set(n.LOCAL_URL,String(n.scrollAction.y))};e.pagePosition=u;var r=y=>{let s=window.location.hash,l=null;if(n.LOCAL_HASH){t.$storage.del(n.LOCAL_URL);return}s?l=(0,i.$dom)(decodeURI(s)):l=CONFIG.auto_scroll?parseInt(t.$storage.get(n.LOCAL_URL)):0,l&&((0,a.pageScroll)(l),(0,n.setLocalHash)(1)),y&&s&&!n.LOCAL_HASH&&((0,a.pageScroll)(l),(0,n.setLocalHash)(1))};e.positionInit=r;var c=(y,s)=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(y).then(()=>{s&&s(!0)},()=>{s&&s(!1)});else{let l=n.BODY.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:y}),h=document.getSelection(),m=h.rangeCount>0?h.getRangeAt(0):!1;l.select(),l.setSelectionRange(0,y.length),l.readOnly=!1;let b=document.execCommand("copy");s&&s(b),l.blur(),m&&(h.removeAllRanges(),h.addRange(m)),n.BODY.removeChild(l)}};e.clipBoard=c}),F=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuActive=e.goToCommentHandle=e.goToBottomHandle=e.backToTopHandle=e.sidebarTOC=e.sideBarTab=e.sideBarToggleHandle=void 0;var a=j(),i=D(),t=P(),n=A(),d=(h,m)=>{a.sideBar.hasClass("on")?(a.sideBar.removeClass("on"),a.menuToggle.removeClass("close"),m?a.sideBar.style="":(0,t.transition)(a.sideBar,"slideRightOut")):m?a.sideBar.style="":(0,t.transition)(a.sideBar,"slideRightIn",()=>{a.sideBar.addClass("on"),a.menuToggle.addClass("close")})};e.sideBarToggleHandle=d;var u=()=>{let h=a.sideBar.child(".inner");a.sideBar.child(".tab")&&h.removeChild(a.sideBar.child(".tab"));let m=document.createElement("ul"),b="active";m.className="tab",["contents","related","overview"].forEach(T=>{let C=a.sideBar.child(".panel."+T);if(C.innerHTML.trim().length<1){T==="contents"&&a.showContents.display("none");return}T==="contents"&&a.showContents.display("");let L=document.createElement("li"),w=document.createElement("span"),x=document.createTextNode(C.attr("data-title"));w.appendChild(x),L.appendChild(w),L.addClass(T+" item"),b?(C.addClass(b),L.addClass(b)):C.removeClass("active"),L.addEventListener("click",f=>{let p=f.currentTarget;p.hasClass("active")||(a.sideBar.find(".tab .item").forEach(k=>{k.removeClass("active")}),a.sideBar.find(".panel").forEach(k=>{k.removeClass("active")}),a.sideBar.child(".panel."+p.className.replace(" item","")).addClass("active"),p.addClass("active"))}),m.appendChild(L),b=""}),m.childNodes.length>1?(h.insertBefore(m,h.childNodes[0]),a.sideBar.child(".panels").style.paddingTop=""):a.sideBar.child(".panels").style.paddingTop=".625rem"};e.sideBarTab=u;var r=()=>{let h=w=>{let x=m[w];if(!x||x.hasClass("current"))return;n.$dom.each(".toc .active",p=>{p&&p.removeClass("active current")}),b.forEach(p=>{p&&p.removeClass("active")}),x.addClass("active current"),b[w]&&b[w].addClass("active");let f=x.parentNode;for(;!f.matches(".contents");){if(f.matches("li")){f.addClass("active");let p=(0,n.$dom)(f.child("a.toc-link").attr("href"));p&&p.addClass("active")}f=f.parentNode}getComputedStyle(a.sideBar).display!=="none"&&C.hasClass("active")&&(0,t.pageScroll)(C,x.offsetTop-C.offsetHeight/4)},m=n.$dom.all(".contents li");if(m.length<1)return;let b=[...m],T=null;b=b.map((w,x)=>{let f=w.child("a.toc-link"),p=(0,n.$dom)(decodeURI(f.attr("href")));if(!p)return null;let k=p.child("a.anchor"),o=g=>{g.preventDefault();let v=(0,n.$dom)(decodeURI(g.currentTarget.attr("href")));T=x,(0,t.pageScroll)(v,null,()=>{h(x),T=null})};return f.addEventListener("click",o),k&&k.addEventListener("click",g=>{o(g),(0,i.clipBoard)(CONFIG.hostname+"/"+LOCAL.path+g.currentTarget.attr("href"))}),p});let C=a.sideBar.child(".contents.panel"),L=w=>{let x=0,f=w[x];if(f.boundingClientRect.top>0)return x=b.indexOf(f.target),x===0?0:x-1;for(;x<w.length;x++)if(w[x].boundingClientRect.top<=0)f=w[x];else return b.indexOf(f.target);return b.indexOf(f.target)};(()=>{let w=new IntersectionObserver(x=>{let f=L(x)+(a.diffY<0?1:0);T===null&&h(f)},{rootMargin:"0px 0px -100% 0px",threshold:0});b.forEach(x=>{x&&w.observe(x)})})()};e.sidebarTOC=r;var c=()=>{(0,t.pageScroll)(0)};e.backToTopHandle=c;var y=()=>{(0,t.pageScroll)(parseInt(String(a.Container.changeOrGetHeight())))};e.goToBottomHandle=y;var s=()=>{(0,t.pageScroll)((0,n.$dom)("#comments"))};e.goToCommentHandle=s;var l=()=>{n.$dom.each(".menu .item:not(.title)",h=>{let m=h.child("a[href]"),b=h.parentNode.parentNode;if(!m)return;let T=m.pathname===location.pathname||m.pathname===location.pathname.replace("index.html",""),C=!CONFIG.root.startsWith(m.pathname)&&location.pathname.startsWith(m.pathname),L=m.hostname===location.hostname&&(T||C);h.toggleClass("active",L),h.parentNode.child(".active")&&b.hasClass("dropdown")?b.removeClass("active").addClass("expand"):b.removeClass("expand")})};e.menuActive=l}),we=O((e,a)=>{(function(i,t){typeof e=="object"&&typeof a<"u"?a.exports=t():typeof define=="function"&&define.amd?define(t):i.lozad=t()})(e,function(){"use strict";var i=typeof document<"u"&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(r){if(r.nodeName.toLowerCase()==="picture"){var c=r.querySelector("img"),y=!1;c===null&&(c=document.createElement("img"),y=!0),i&&r.getAttribute("data-iesrc")&&(c.src=r.getAttribute("data-iesrc")),r.getAttribute("data-alt")&&(c.alt=r.getAttribute("data-alt")),y&&r.append(c)}if(r.nodeName.toLowerCase()==="video"&&!r.getAttribute("data-src")&&r.children){for(var s=r.children,l=void 0,h=0;h<=s.length-1;h++)(l=s[h].getAttribute("data-src"))&&(s[h].src=l);r.load()}r.getAttribute("data-poster")&&(r.poster=r.getAttribute("data-poster")),r.getAttribute("data-src")&&(r.src=r.getAttribute("data-src")),r.getAttribute("data-srcset")&&r.setAttribute("srcset",r.getAttribute("data-srcset"));var m=",";if(r.getAttribute("data-background-delimiter")&&(m=r.getAttribute("data-background-delimiter")),r.getAttribute("data-background-image"))r.style.backgroundImage="url('"+r.getAttribute("data-background-image").split(m).join("'),url('")+"')";else if(r.getAttribute("data-background-image-set")){var b=r.getAttribute("data-background-image-set").split(m),T=b[0].substr(0,b[0].indexOf(" "))||b[0];T=T.indexOf("url(")===-1?"url("+T+")":T,b.length===1?r.style.backgroundImage=T:r.setAttribute("style",(r.getAttribute("style")||"")+"background-image: "+T+"; background-image: -webkit-image-set("+b+"); background-image: image-set("+b+")")}r.getAttribute("data-toggle-class")&&r.classList.toggle(r.getAttribute("data-toggle-class"))},loaded:function(){}};function n(r){r.setAttribute("data-loaded",!0)}var d=function(r){return r.getAttribute("data-loaded")==="true"},u=function(r){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return r instanceof Element?[r]:r instanceof NodeList?r:c.querySelectorAll(r)};return function(){var r,c,y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},l=Object.assign({},t,s),h=l.root,m=l.rootMargin,b=l.threshold,T=l.load,C=l.loaded,L=void 0;typeof window<"u"&&window.IntersectionObserver&&(L=new IntersectionObserver((r=T,c=C,function(p,k){p.forEach(function(o){(0<o.intersectionRatio||o.isIntersecting)&&(k.unobserve(o.target),d(o.target)||(r(o.target),n(o.target),c(o.target)))})}),{root:h,rootMargin:m,threshold:b}));for(var w,x=u(y,h),f=0;f<x.length;f++)(w=x[f]).getAttribute("data-placeholder-background")&&(w.style.background=w.getAttribute("data-placeholder-background"));return{observe:function(){for(var p=u(y,h),k=0;k<p.length;k++)d(p[k])||(L?L.observe(p[k]):(T(p[k]),n(p[k]),C(p[k])))},triggerLoad:function(p){d(p)||(T(p),n(p),C(p))},observer:L}}})}),J=O(e=>{"use strict";var a=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.isOutime=e.Loader=e.lazyload=void 0;var i=a(we()),t=j(),n=P();e.lazyload=(0,i.default)("img, [data-background-image]",{loaded(u){u.addClass("lozaded")}}),e.Loader={timer:void 0,lock:!1,show(){clearTimeout(this.timer),document.body.removeClass("loaded"),t.loadCat.attr("style","display:block"),e.Loader.lock=!1},hide(u){CONFIG.loader.start||(u=-1),this.timer=setTimeout(this.vanish,u||3e3)},vanish(){e.Loader.lock||(CONFIG.loader.start&&(0,n.transition)(t.loadCat,0),document.body.addClass("loaded"),e.Loader.lock=!0)}};var d=()=>{let u;if(CONFIG.outime.enable&&LOCAL.outime){let r=document.getElementsByTagName("time");if(r.length===0)return;let c=document.getElementsByClassName("body md");if(c.length===0)return;let y=Date.now(),s=new Date(r[0].dateTime);r.length===1?u=s:u=new Date(r[1].dateTime);let l=parseInt(String(y-u)),h=parseInt(String(CONFIG.outime.days))||30;if(l>h*864e5){let m=parseInt(String((y-s)/864e5)),b=parseInt(String(l/864e5)),T=LOCAL.template.replace("{{publish}}",String(m)).replace("{{updated}}",String(b));c[0].insertAdjacentHTML("afterbegin",T)}}};e.isOutime=d}),se=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tabFormat=void 0;var a=P(),i=A(),t=()=>{let n;i.$dom.each("div.tab",d=>{if(d.attr("data-ready"))return;let u=d.attr("data-id"),r=d.attr("data-title"),c=(0,i.$dom)("#"+u);c?n=!1:(c=document.createElement("div"),c.className="tabs",c.id=u,c.innerHTML='<div class="show-btn"></div>',c.child(".show-btn").addEventListener("click",()=>{(0,a.pageScroll)(c)}),d.parentNode.insertBefore(c,d),n=!0);let y=c.child(".nav ul");y||(y=c.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul"));let s=y.createChild("li",{innerHTML:r});n&&(s.addClass("active"),d.addClass("active")),s.addEventListener("click",l=>{let h=l.currentTarget;c.find(".active").forEach(m=>{m.removeClass("active")}),d.addClass("active"),h.addClass("active")}),c.appendChild(d),d.attr("data-ready",String(!0))})};e.tabFormat=t}),K=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mediaPlayer=void 0;var a=j(),i=D(),t=P(),n=A(),d=X(),u=se(),r=null,c=/mobile/i.test(window.navigator.userAgent),y=(s,l)=>{if(CONFIG.noPlayer)return;let h={el:{},create(){s.player.options.btns&&s.player.options.btns.forEach(o=>{h.el[o]||(h.el[o]=s.createChild("div",{className:o+" btn",onclick(g){s.player.fetch().then(()=>{s.player.options.events[o](g)})}}))})}},m={el:null,btns:{mode:void 0,volume:void 0},step:"next",create:()=>{if(!s.player.options.controls)return;let o=m;s.player.options.controls.forEach(g=>{if(o.btns[g])return;let v={onclick(M){o.events[g]?o.events[g](M):s.player.options.events[g](M)}};switch(g){case"volume":v.className=" "+(C.muted?"off":"on"),v.innerHTML='<div class="bar"></div>',v["on"+f.nameMap.dragStart]=o.events.volume,v.onclick=null;break;case"mode":v.className=" "+s.player.options.mode;break;default:v.className="";break}v.className=g+v.className+" btn",o.btns[g]=o.el.createChild("div",v)}),o.btns.volume.bar=o.btns.volume.child(".bar")},events:{mode(o){switch(s.player.options.mode){case"loop":s.player.options.mode="random";break;case"random":s.player.options.mode="order";break;default:s.player.options.mode="loop"}m.btns.mode.className="mode "+s.player.options.mode+" btn",d.$storage.set("_PlayerMode",s.player.options.mode)},volume(o){o.preventDefault();let g=o.currentTarget,v=!1,M=H=>{H.preventDefault(),s.player.volume(m.percent(H,g)),v=!0},E=H=>{H.preventDefault(),g.removeEventListener(f.nameMap.dragEnd,E),g.removeEventListener(f.nameMap.dragMove,M),v?(s.player.muted(),s.player.volume(m.percent(H,g))):C.muted?(s.player.muted(),s.player.volume(C.volume)):(s.player.muted("muted"),m.update(0))};g.addEventListener(f.nameMap.dragMove,M),g.addEventListener(f.nameMap.dragEnd,E)},backward(o){m.step="prev",s.player.mode()},forward(o){m.step="next",s.player.mode()}},update(o){m.btns.volume.className="volume "+(!C.muted&&o>0?"on":"off")+" btn",m.btns.volume.bar.changeOrGetWidth(Math.floor(o*100)+"%")},percent(o,g){let v=((o.clientX||o.changedTouches[0].clientX)-g.left())/g.changeOrGetWidth();return v=Math.max(v,0),Math.min(v,1)}},b={el:null,bar:null,create(){let o=L.current().el;o&&(b.el&&(b.el.parentNode.removeClass("current").removeEventListener(f.nameMap.dragStart,b.drag),b.el.remove()),b.el=o.createChild("div",{className:"progress"}),b.el.attr("data-dtime",f.secondToTime(0)),b.bar=b.el.createChild("div",{className:"bar"}),o.addClass("current"),o.addEventListener(f.nameMap.dragStart,b.drag),L.scroll())},update(o){b.bar.changeOrGetWidth(Math.floor(o*100)+"%"),b.el.attr("data-ptime",f.secondToTime(o*C.duration))},seeking(o){o?b.el.addClass("seeking"):b.el.removeClass("seeking")},percent(o,g){let v=((o.clientX||o.changedTouches[0].clientX)-g.left())/g.changeOrGetWidth();return v=Math.max(v,0),Math.min(v,1)},drag(o){o.preventDefault();let g=L.current().el,v=E=>{E.preventDefault();let H=b.percent(E,g);b.update(H),p.update(H*C.duration)},M=E=>{E.preventDefault(),g.removeEventListener(f.nameMap.dragEnd,M),g.removeEventListener(f.nameMap.dragMove,v);let H=b.percent(E,g);b.update(H),s.player.seek(H*C.duration),C.disableTimeupdate=!1,b.seeking(!1)};C.disableTimeupdate=!0,b.seeking(!0),g.addEventListener(f.nameMap.dragMove,v),g.addEventListener(f.nameMap.dragEnd,M)}},T={el:null,create(){let o=L.current();T.el.innerHTML='<div class="cover"><div class="disc"><img src="'+o.cover+'" class="blur"  alt="music cover"/></div></div><div class="info"><h4 class="title">'+o.name+"</h4><span>"+o.artist+'</span><div class="lrc"></div></div>',T.el.child(".cover").addEventListener("click",s.player.options.events["play-pause"]),p.create(T.el.child(".lrc"))}},C,L={el:null,data:[],index:-1,errnum:0,add:(o,g)=>{g.forEach(v=>{v.group=o,v.name=v.name||v.title||"Meida name",v.artist=v.artist||v.author||"Anonymous",v.cover=v.cover||v.pic,v.type=v.type||"normal",L.data.push(v)})},clear(){L.data=[],L.el.innerHTML="",L.index!==-1&&(L.index=-1,s.player.fetch())},create(){let o=L.el;L.data.map((g,v)=>{if(g.el)return null;let M="list-"+s.player._id+"-"+g.group,E=(0,n.$dom)("#"+M);return E||(E=o.createChild("div",{id:M,className:s.player.group?"tab":"",innerHTML:"<ol></ol>"}),s.player.group&&E.attr("data-title",s.player.options.rawList[g.group].title).attr("data-id",s.player._id)),g.el=E.child("ol").createChild("li",{title:g.name+" - "+g.artist,innerHTML:'<span class="info"><span>'+g.name+"</span><span>"+g.artist+"</span></span>",onclick(H){let $=H.currentTarget;if(L.index===v&&b.el){C.paused?s.player.play():s.player.seek(C.duration*b.percent(H,$));return}s.player.switch(v),s.player.play()}}),g}),(0,u.tabFormat)()},current(){return this.data[this.index]},scroll(){let o=this.current(),g=this.el.child("li.active");g&&g.removeClass("active");let v=this.el.child(".tab.active");return v&&v.removeClass("active"),g=this.el.find(".nav li")[o.group],g&&g.addClass("active"),v=this.el.find(".tab")[o.group],v&&v.addClass("active"),(0,t.pageScroll)(o.el,o.el.offsetTop),this},title(){if(C.paused)return;let o=this.current();document.title="Now Playing..."+o.name+" - "+o.artist+" | "+a.originTitle},error(){let o=this.current();o.el.removeClass("current").addClass("error"),o.error=!0,this.errnum++}},w={el:null,create(){this.el||(this.el=s.createChild("div",{className:"player-info",innerHTML:(s.player.options.type==="audio"?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),T.el=this.el.child(".preview"),L.el=this.el.child(".playlist"),m.el=this.el.child(".controller"))},hide(){let o=this.el;o.addClass("hide"),window.setTimeout(()=>{o.removeClass("show hide")},300)}},x={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause"(o){C.paused?s.player.play():s.player.pause()},music(o){w.el.hasClass("show")?w.hide():(w.el.addClass("show"),L.scroll().title())}}},f={random(o){return Math.floor(Math.random()*o)},parse(o){let g=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+)(.html)?","tencent","song"],["y.qq.com.*album/(\\w+)(.html)?","tencent","album"],["y.qq.com.*singer/(\\w+)(.html)?","tencent","artist"],["y.qq.com.*playsquare/(\\w+)(.html)?","tencent","playlist"],["y.qq.com.*playlist/(\\w+)(.html)?","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(v=>{let M=new RegExp(v[0]).exec(o);M!==null&&(g=[v[1],v[2],M[1]])}),g},fetch(o){let g=[];return new Promise((v,M)=>{o.forEach(E=>{let H=f.parse(E);if(H[0]){let $=JSON.stringify(H),B=d.$storage.get($);B?(g.push(...JSON.parse(B)),v(g)):fetch(`${CONFIG.playerAPI}/meting/?server=`+H[0]+"&type="+H[1]+"&id="+H[2]+"&r="+Math.random()).then(_=>_.json()).then(_=>{d.$storage.set($,JSON.stringify(_)),g.push(..._),v(g)}).catch(_=>{})}else g.push(E),v(g)})})},secondToTime(o){let g=H=>isNaN(H)?"00":H<10?"0"+H:""+H,v=Math.floor(o/3600),M=Math.floor((o-v*3600)/60),E=Math.floor(o-v*3600-M*60);return(v>0?[v,M,E]:[M,E]).map(g).join(":")},nameMap:{dragStart:c?"touchstart":"mousedown",dragMove:c?"touchmove":"mousemove",dragEnd:c?"touchend":"mouseup"}};C=null,s.player={_id:f.random(999999),group:!0,load(o){let g="";o&&o.length>0?this.options.rawList!==o&&(this.options.rawList=o,L.clear(),this.fetch()):(g="none",this.pause());for(let v in h.el)h.el[v].display(g);return this},fetch(){return new Promise((o,g)=>{if(L.data.length>0)o(!0);else if(this.options.rawList){let v=[];this.options.rawList.forEach((M,E)=>{v.push(new Promise((H,$)=>{let B=E,_;M.list?(this.group=!0,_=M.list):(B=0,this.group=!1,_=[M]),f.fetch(_).then(R=>{L.add(B,R),H(0)})}))}),Promise.all(v).then(()=>{o(!0)})}}).then(o=>{o&&(L.create(),m.create(),this.mode())})},mode(){let o=L.data.length;if(!o||L.errnum===o)return;let g=m.step==="next"?1:-1,v=()=>{let E=L.index+g;(E>o||E<0)&&(E=m.step==="next"?0:o-1),L.index=E},M=()=>{let E=f.random(o);L.index!==E?L.index=E:v()};switch(this.options.mode){case"random":M();break;case"order":v();break;case"loop":m.step&&v(),L.index===-1&&M();break}this.init()},switch(o){typeof o=="number"&&o!==L.index&&L.current()&&!L.current().error&&(L.index=o,this.init())},init(){let o=L.current();if(!o||o.error){this.mode();return}let g=!1;C.paused||(g=!0,this.stop()),C.attr("src",o.url),C.attr("title",o.name+" - "+o.artist),this.volume(d.$storage.get("_PlayerVolume")||"0.7"),this.muted(d.$storage.get("_PlayerMuted")),b.create(),this.options.type==="audio"&&T.create(),g===!0&&this.play()},play(){if(r&&r.player.pause(),L.current().error){this.mode();return}C.play().then(()=>{L.scroll()}).catch(o=>{})},pause(){C.pause(),document.title=a.originTitle},stop(){C.pause(),C.currentTime=0,document.title=a.originTitle},seek(o){o=Math.max(o,0),o=Math.min(o,C.duration),C.currentTime=o,b.update(o/C.duration)},muted(o){o==="muted"?(C.muted=o,d.$storage.set("_PlayerMuted",o),m.update(0)):(d.$storage.del("_PlayerMuted"),C.muted=!1,m.update(C.volume))},volume(o){isNaN(o)||(m.update(o),d.$storage.set("_PlayerVolume",o),C.volume=o)},mini(){w.hide()}};let p={el:null,data:null,index:0,create(o){let g=L.index,v=L.current().lrc,M=E=>{if(g!==L.index)return;this.data=this.parse(E);let H="";this.data.forEach(($,B)=>{H+="<p"+(B===0?' class="current"':"")+">"+$[1]+"</p>"}),this.el=o.createChild("div",{className:"inner",innerHTML:H},"replace"),this.index=0};v.startsWith("http")?this.fetch(v,M):M(v)},update(o){if(this.data&&(this.index>this.data.length-1||o<this.data[this.index][0]||!this.data[this.index+1]||o>=this.data[this.index+1][0])){for(let g=0;g<this.data.length;g++)if(o>=this.data[g][0]&&(!this.data[g+1]||o<this.data[g+1][0])){this.index=g;let v=-(this.index-1);this.el.style.transform="translateY("+v+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[g].addClass("current")}}},parse(o){if(o){o=o.replace(/([^\]^\n])\[/g,(E,H)=>H+`
[`);let g=o.split(`
`),v=[],M=g.length;for(let E=0;E<M;E++){let H=g[E].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),$=g[E].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").trim();if(H){let B=H.length;for(let _=0;_<B;_++){let R=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(H[_]),tt=R[1]*60,at=parseInt(R[2]),it=R[4]?parseInt(R[4])/((R[4]+"").length===2?100:1e3):0,st=tt+at+it;v.push([st,$])}}}return v=v.filter(E=>E[1]),v.sort((E,H)=>E[0]-H[0]),v}else return[]},fetch(o,g){fetch(o).then(v=>v.text()).then(v=>{g(v)}).catch(v=>{})}},k={onerror(){L.error(),s.player.mode()},ondurationchange(){C.duration!==1&&b.el.attr("data-dtime",f.secondToTime(C.duration))},onloadedmetadata(){s.player.seek(0),b.el.attr("data-dtime",f.secondToTime(C.duration))},onplay(){s.parentNode.addClass("playing"),(0,i.showtip)(this.attr("title")),r=s},onpause(){s.parentNode.removeClass("playing"),r=null},ontimeupdate(){this.disableTimeupdate||(b.update(this.currentTime/this.duration),p.update(this.currentTime))},onended(o){s.player.mode(),s.player.play()}};return(o=>{s.player.created||(s.player.options=Object.assign(x,o),s.player.options.mode=d.$storage.get("_PlayerMode")||s.player.options.mode,h.create(),C=s.createChild(s.player.options.type,k),w.create(),s.parentNode.addClass(s.player.options.type),s.player.created=!0)})(l),s};e.mediaPlayer=y}),Ce=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=F(),i=j(),t=J(),n=A(),d=K();function u(){n.$dom.each(".overview .menu > .item",r=>{i.siteNav.child(".menu").appendChild(r.cloneNode(!0))}),i.loadCat.addEventListener("click",t.Loader.vanish),i.menuToggle.addEventListener("click",a.sideBarToggleHandle),(0,n.$dom)(".dimmer").addEventListener("click",a.sideBarToggleHandle),i.quickBtn.child(".down").addEventListener("click",a.goToBottomHandle),i.quickBtn.child(".up").addEventListener("click",a.backToTopHandle),i.toolBtn||(0,i.setToolBtn)(i.siteHeader.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),(0,i.setToolPlayer)(i.toolBtn.child(".player")),(0,i.setBackToTop)(i.toolBtn.child(".back-to-top")),(0,i.setGoToComment)(i.toolBtn.child(".chat")),(0,i.setShowContents)(i.toolBtn.child(".contents")),i.backToTop.addEventListener("click",a.backToTopHandle),i.goToComment.addEventListener("click",a.goToCommentHandle),i.showContents.addEventListener("click",a.sideBarToggleHandle),typeof d.mediaPlayer<"u"&&((0,d.mediaPlayer)(i.toolPlayer),(0,n.$dom)("main").addEventListener("click",()=>{i.toolPlayer.player.mini()})),new IntersectionObserver(([r])=>{r.isIntersecting?(document.querySelectorAll(".parallax>use").forEach(c=>{c.classList.remove("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(c=>{c.classList.remove("stop-animation")})):(document.querySelectorAll(".parallax>use").forEach(c=>{c.classList.add("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(c=>{c.classList.add("stop-animation")}))},{root:null,threshold:.2}).observe(document.getElementById("waves")),new IntersectionObserver(([r])=>{r.isIntersecting?document.querySelectorAll(".with-love>i").forEach(c=>{c.classList.remove("stop-animation")}):document.querySelectorAll(".with-love>i").forEach(c=>{c.classList.add("stop-animation")})},{root:null,threshold:.2}).observe(document.querySelector(".with-love"))}e.default=u}),Le=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardActive=void 0;var a=A(),i=()=>{if(!(0,a.$dom)(".index.wrap"))return;let t=new IntersectionObserver(n=>{n.forEach(d=>{d.target.hasClass("show")?t.unobserve(d.target):(d.isIntersecting||d.intersectionRatio>0)&&(d.target.addClass("show"),t.unobserve(d.target))})},{root:null,threshold:[.3]});a.$dom.each(".index.wrap article.item, .index.wrap section.item",n=>{t.observe(n)}),(0,a.$dom)(".index.wrap .item:first-child").addClass("show"),a.$dom.each(".cards .item",n=>{["mouseenter","touchstart"].forEach(d=>{n.addEventListener(d,()=>{(0,a.$dom)(".cards .item.active")&&(0,a.$dom)(".cards .item.active").removeClass("active"),n.addClass("active")},{passive:!0})}),["mouseleave"].forEach(d=>{n.addEventListener(d,()=>{n.removeClass("active")},{passive:!0})})})};e.cardActive=i}),xe=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=A(),i=P(),t=j();function n(){let d=(0,a.$dom)("#comments");if(d)t.goToComment.display("");else{t.goToComment.display("none");return}new IntersectionObserver((u,r)=>{let c=u[0];(c.isIntersecting||c.intersectionRatio>0)&&((0,i.transition)((0,a.$dom)("#comments"),"bounceUpIn"),r.disconnect())}).observe(d)}e.default=n}),Q=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pjaxScript=e.getScript=e.cloudflareInit=void 0;function a(){let n=!0;window.addEventListener("DOMContentLoaded",function(){n=!1}),document.readyState==="loading"&&window.addEventListener("load",function(){n&&(window.dispatchEvent(new Event("DOMContentLoaded")),console.log("%c \u2601\uFE0Fcloudflare patch %c running(rocket & minify)","color: white; background: #ff8c00; padding: 5px 3px;","padding: 4px;border:1px solid #ff8c00"))})}e.cloudflareInit=a;var i=(n,d,u)=>{if(u)d();else{let r=document.createElement("script");r.onload=function(c,y){(y||!r.readyState)&&(console.log("abort!"),r.onload=null,r=void 0,!y&&d&&setTimeout(d,0))},r.src=n,document.head.appendChild(r)}};e.getScript=i;var t=n=>{let{text:d,parentNode:u,id:r,className:c,type:y,src:s,dataset:l}=n,h=d||n.textContent||n.innerHTML||"";u.removeChild(n);let m=document.createElement("script");r&&(m.id=r),c&&(m.className=c),y&&(m.type=y),s&&(m.src=s,m.async=!1),l.pjax!==void 0&&(m.dataset.pjax=""),h!==""&&m.appendChild(document.createTextNode(h)),u.appendChild(m)};e.pjaxScript=t}),re=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vendorCss=e.vendorJs=void 0;var a=Q(),i=(d,u)=>{let r=CONFIG[d][u];return r.includes("gh")||r.includes("combine")?`https://cdn.jsdelivr.net/${r}`:r.includes("npm")?`https://cdn.jsdelivr.net/${r}`:r.includes("http")?r:`/${r}`},t=(d,u,r)=>{LOCAL[d]&&(0,a.getScript)(i("js",d),u||function(){window[d]=!0},r||window[d])};e.vendorJs=t;var n=(d,u)=>{window["css"+d]||LOCAL[d]&&(document.head.createChild("link",{rel:"stylesheet",href:i("css",d)}),window["css"+d]=!0)};e.vendorCss=n}),Te=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postFancybox=void 0;var a=A(),i=re(),t=n=>{(0,a.$dom)(n+" .md img")&&((0,i.vendorCss)("fancybox"),(0,i.vendorJs)("fancybox",()=>{let d=jQuery.noConflict();a.$dom.each(n+" p.gallery",u=>{let r=document.createElement("div");r.className="gallery",r.attr("data-height",String(u.attr("data-height")||220)),r.innerHTML=u.innerHTML.replace(/<br>/g,""),u.parentNode.insertBefore(r,u),u.remove()}),a.$dom.each(n+" .md img:not(.emoji):not(.vemoji)",u=>{let r=d(u),c=r.attr("data-src")||r.attr("src"),y=r.wrap('<a class="fancybox" href="'+c+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a"),s,l="image-info";if(r.is("a img")||(r.data("safe-src",c),r.is(".gallery img")?l="jg-caption":y.attr("data-fancybox","default").attr("rel","default")),s=u.attr("title")){y.attr("data-caption",s);let h=document.createElement("span"),m=document.createTextNode(s);h.appendChild(m),h.addClass(l),u.insertAfter(h)}}),a.$dom.each(n+" div.gallery",(u,r)=>{d(u).justifiedGallery({rowHeight:d(u).data("height")||120,rel:"gallery-"+r}).on("jg.complete",function(){d(this).find("a").each((c,y)=>{y.attr("data-fancybox","gallery-"+r)})})}),d.fancybox.defaults.hash=!1,d(n+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},window.jQuery))};e.postFancybox=t}),ke=O(e=>{"use strict";var a=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.postBeauty=void 0;var i=a(xe()),t=A(),n=Te(),d=D(),u=j(),r=P(),c=K(),y=()=>{if((0,i.default)(),!(0,t.$dom)(".md"))return;(0,n.postFancybox)(".post.block"),(0,t.$dom)(".post.block").oncopy=async l=>{if((0,d.showtip)(LOCAL.copyright),LOCAL.nocopy){l.preventDefault();return}let h=await t.$dom.asyncify("#copyright");if(window.getSelection().toString().length>30&&h){l.preventDefault();let m="# "+h.child(".author").innerText,b="# "+h.child(".link").innerText,T="# "+h.child(".license").innerText,C=m+"<br>"+b+"<br>"+T+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),L=m+`
`+b+`
`+T+`

`+window.getSelection().toString().replace(/\r\n/g,`
`);if(l.clipboardData)l.clipboardData.setData("text/html",C),l.clipboardData.setData("text/plain",L);else if(window.clipboardData)return window.clipboardData.setData("text",L)}},t.$dom.each("li ruby",l=>{let h=l.parentNode;l.parentNode.tagName!=="LI"&&(h=l.parentNode.parentNode),h.addClass("ruby")}),t.$dom.each("ol[start]",l=>{l.style.counterReset="counter "+parseInt(l.attr("start")-1)}),t.$dom.each(".md table",l=>{l.wrapObject({className:"table-container"})}),t.$dom.each(".highlight > .table-container",l=>{l.className="code-container"}),t.$dom.each("figure.highlight",l=>{let h=l.child(".code-container"),m=l.child("figcaption");l.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');let b=l.child(".copy-btn");LOCAL.nocopy?b.remove():(b.addEventListener("click",w=>{let x=w.currentTarget,f="",p="";h.find("pre").forEach(k=>{p+=f+k.innerText,f=`
`}),(0,d.clipBoard)(p,k=>{x.child(".ic").className=k?"ic i-check":"ic i-times",x.blur(),(0,d.showtip)(LOCAL.copyright)})},{passive:!0}),b.addEventListener("mouseleave",w=>{setTimeout(()=>{w.target.child(".ic").className="ic i-clipboard"},1e3)})),l.child(".breakline-btn").addEventListener("click",w=>{let x=w.currentTarget;l.hasClass("breakline")?(l.removeClass("breakline"),x.child(".ic").className="ic i-align-left"):(l.addClass("breakline"),x.child(".ic").className="ic i-align-justify")});let T=l.child(".fullscreen-btn"),C=()=>{l.removeClass("fullscreen"),l.scrollTop=0,u.BODY.removeClass("fullscreen"),T.child(".ic").className="ic i-expand"},L=()=>{if(l.hasClass("fullscreen")){if(C(),h&&h.find("tr").length>15){let w=h.child(".show-btn");h.style.maxHeight="300px",w.removeClass("open")}(0,r.pageScroll)(l)}else if(l.addClass("fullscreen"),u.BODY.addClass("fullscreen"),T.child(".ic").className="ic i-compress",h&&h.find("tr").length>15){let w=h.child(".show-btn");h.style.maxHeight="",w.addClass("open")}};if(T.addEventListener("click",L),m&&m.addEventListener("click",L),h&&h.find("tr").length>15){h.style.maxHeight="300px",h.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');let w=h.child(".show-btn"),x=()=>{h.style.maxHeight="300px",w.removeClass("open")},f=()=>{h.style.maxHeight="",w.addClass("open")};w.addEventListener("click",()=>{w.hasClass("open")?(C(),x(),(0,r.pageScroll)(h)):f()})}}),t.$dom.asyncifyEach("pre.mermaid > svg",l=>{let h=l;h.style.maxWidth=""}),t.$dom.each(".reward button",l=>{l.addEventListener("click",h=>{h.preventDefault();let m=(0,t.$dom)("#qr");m.display()==="inline-flex"?(0,r.transition)(m,0):(0,r.transition)(m,1,()=>{m.display("inline-flex")})})}),t.$dom.asyncifyEach(".quiz > ul.options li",l=>{l.addEventListener("click",()=>{l.hasClass("correct")?(l.toggleClass("right"),l.parentNode.parentNode.addClass("show")):l.toggleClass("wrong")})}),t.$dom.asyncifyEach(".quiz > p",l=>{l.addEventListener("click",()=>{l.parentNode.toggleClass("show")})}),t.$dom.asyncifyEach(".quiz > p:first-child",l=>{let h=l.parentNode,m="choice";(h.hasClass("true")||h.hasClass("false"))&&(m="true_false"),h.hasClass("multi")&&(m="multiple"),h.hasClass("fill")&&(m="gap_fill"),h.hasClass("essay")&&(m="essay"),l.attr("data-type",LOCAL.quiz[m])}),t.$dom.asyncifyEach(".quiz .mistake",l=>{l.attr("data-type",LOCAL.quiz.mistake)}),t.$dom.each("div.tags a",l=>{l.className=["primary","success","info","warning","danger"][Math.floor(Math.random()*5)]}),t.$dom.asyncifyEach(".md div.player",l=>{(0,c.mediaPlayer)(l,{type:l.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(l.attr("data-src"))).fetch()});let s=document.querySelectorAll(".show-btn .i-angle-down");if(s.length){let l=new IntersectionObserver(h=>{h.forEach(m=>{m.isIntersecting?s.forEach(b=>{b.classList.remove("stop-animation")}):s.forEach(b=>{b.classList.add("stop-animation")})})},{root:null,threshold:.5});s.forEach(h=>{l.observe(h)})}};e.postBeauty=y}),V=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.themeColorListener=e.changeMetaTheme=e.autoDarkmode=e.changeTheme=void 0;var a=X(),i=A(),t=j(),n=c=>{let y=(0,i.$dom)(".theme .ic");c==="dark"?(t.HTML.attr("data-theme",c),y.removeClass("i-sun"),y.addClass("i-moon")):(t.HTML.attr("data-theme",null),y.removeClass("i-moon"),y.addClass("i-sun"))};e.changeTheme=n;var d=()=>{CONFIG.auto_dark.enable&&(new Date().getHours()>=CONFIG.auto_dark.start||new Date().getHours()<=CONFIG.auto_dark.end?(0,e.changeTheme)("dark"):(0,e.changeTheme)())};e.autoDarkmode=d;var u=c=>{t.HTML.attr("data-theme")==="dark"&&(c="#222"),(0,i.$dom)('meta[name="theme-color"]').attr("content",c)};e.changeMetaTheme=u;var r=()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",y=>{y.matches?(0,e.changeTheme)("dark"):(0,e.changeTheme)()});let c=a.$storage.get("theme");c?(0,e.changeTheme)(c):CONFIG.darkmode&&(0,e.changeTheme)("dark")};e.themeColorListener=r}),ne=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visibilityListener=e.clickMenu=e.scrollHandle=e.resizeHandle=void 0;var a=F(),i=A(),t=j(),n=V(),d=J(),u=()=>{(0,t.setSiteNavHeight)(t.siteNav.changeOrGetHeight()),(0,t.setHeaderHightInner)(t.siteHeader.changeOrGetHeight()),(0,t.setHeaderHight)(t.headerHightInner+(0,i.$dom)("#waves").changeOrGetHeight()),t.oWinWidth!==window.innerWidth&&(0,a.sideBarToggleHandle)(null,1),(0,t.setOWinHeight)(window.innerHeight),(0,t.setOWinWidth)(window.innerWidth)};e.resizeHandle=u;var r=()=>{let s=window.innerHeight,l=(0,i.getDocHeight)(),h=l>s?l-s:document.body.scrollHeight-s,m=window.scrollY>t.headerHightInner,b=window.scrollY>0;m?(0,n.changeMetaTheme)("#FFF"):(0,n.changeMetaTheme)("#222"),t.siteNav.toggleClass("show",m),t.toolBtn.toggleClass("affix",b),t.siteBrand.toggleClass("affix",b),t.sideBar.toggleClass("affix",window.scrollY>t.headerHight&&document.body.offsetWidth>991),typeof t.scrollAction.y>"u"&&(t.scrollAction.y=window.scrollY),(0,t.setDiffY)(t.scrollAction.y-window.scrollY),t.diffY<0?(t.siteNav.removeClass("up"),t.siteNav.toggleClass("down",m)):t.diffY>0&&(t.siteNav.removeClass("down"),t.siteNav.toggleClass("up",m)),t.scrollAction.y=window.scrollY;let T=Math.round(Math.min(100*window.scrollY/h,100))+"%";t.backToTop.child("span").innerText!==T&&(t.backToTop.child("span").innerText=T),((0,i.$dom)("#sidebar").hasClass("affix")||(0,i.$dom)("#sidebar").hasClass("on"))&&(0,i.$dom)(".percent").changeOrGetWidth(T)};e.scrollHandle=r;var c=()=>{let s=(0,i.$dom)("#clickMenu");window.oncontextmenu=function(l){if(l.ctrlKey)return;l.preventDefault();let h=l.offsetX,m=l.offsetY,b=window.innerWidth,T=window.innerHeight,C=s.offsetWidth,L=s.offsetHeight;h=b-C>=h?h:b-C,m=T-L>=m?m:T-L,s.style.top=m+"px",s.style.left=h+"px",s.classList.add("active"),i.$dom.each(".clickSubmenu",w=>{h>b-C-w.offsetWidth?w.style.left="-200px":(w.style.left="",w.style.right="-200px")})},window.addEventListener("click",()=>{s.classList.remove("active")})};e.clickMenu=c;var y=()=>{let s=(0,i.$dom)('[rel="icon"]');document.addEventListener("visibilitychange",()=>{switch(document.visibilityState){case"hidden":s.attr("href",t.statics+CONFIG.favicon.hidden),document.title=LOCAL.favicon.hide,CONFIG.loader.switch&&d.Loader.show(),clearTimeout(t.titleTime);break;case"visible":s.attr("href",t.statics+CONFIG.favicon.normal),document.title=LOCAL.favicon.show,CONFIG.loader.switch&&d.Loader.hide(1e3),(0,t.setTitleTime)(setTimeout(()=>{document.title=t.originTitle},2e3));break}})};e.visibilityListener=y}),Ee=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.siteRefresh=e.pjaxReload=void 0;var a=A(),i=Le(),t=ke(),n=P(),d=re(),u=Q(),r=ne(),c=j(),y=K(),s=D(),l=F(),h=J(),m=se(),b=()=>{(0,s.pagePosition)(),c.sideBar.hasClass("on")&&(0,n.transition)(c.sideBar,0,()=>{c.sideBar.removeClass("on"),c.menuToggle.removeClass("close")});let C=(0,a.$dom)("#main");C.innerHTML="",C.appendChild(c.loadCat.lastChild.cloneNode(!0)),(0,n.pageScroll)(0)};e.pjaxReload=b;var T=C=>{(0,c.setLocalHash)(0),(0,c.setLocalUrl)(window.location.href),(0,d.vendorCss)("katex"),(0,d.vendorJs)("copy_tex"),(0,d.vendorCss)("mermaid"),(0,d.vendorJs)("chart"),C!==1&&a.$dom.each("script[data-pjax]",u.pjaxScript),(0,c.setOriginTitle)(document.title),(0,r.resizeHandle)(),(0,l.menuActive)(),(0,l.sideBarTab)(),(0,l.sidebarTOC)(),(0,t.postBeauty)(),(0,m.tabFormat)(),typeof y.mediaPlayer<"u"&&c.toolPlayer.player.load(LOCAL.audio||CONFIG.audio||{}),h.Loader.hide(),setTimeout(()=>{(0,s.positionInit)()},500),(0,i.cardActive)(),h.lazyload.observe(),(0,h.isOutime)()};e.siteRefresh=T}),He=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.algoliaSearch=void 0;var a=j(),i=P(),t=A();function n(d){if(CONFIG.search===null)return;a.siteSearch||(0,a.setSiteSearch)(a.BODY.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}));let u=instantsearch({indexName:CONFIG.search.indexName,searchClient:algoliasearch(CONFIG.search.appID,CONFIG.search.apiKey),searchFunction(c){(0,t.$dom)(".search-input").value&&c.search()}});u.on("render",()=>{d.refresh((0,t.$dom)("#search-hits"))}),u.addWidgets([instantsearch.widgets.configure({hitsPerPage:CONFIG.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text(c){return LOCAL.search.stats.replace(/\$\{hits}/,c.nbHits).replace(/\$\{time}/,c.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item(c){let y=c.categories?"<span>"+c.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+CONFIG.root+c.path+'">'+y+c._highlightResult.title.value+"</a>"},empty(c){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,c.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),u.start(),t.$dom.each(".search",c=>{c.addEventListener("click",()=>{document.body.style.overflow="hidden",(0,i.transition)(a.siteSearch,"shrinkIn",()=>{(0,t.$dom)(".search-input").focus()})})});let r=()=>{document.body.style.overflow="",(0,i.transition)(a.siteSearch,0)};a.siteSearch.addEventListener("click",c=>{c.target===a.siteSearch&&r()}),(0,t.$dom)(".close-btn").addEventListener("click",r),window.addEventListener("pjax:success",r),window.addEventListener("keyup",c=>{c.key==="Escape"&&r()})}e.algoliaSearch=n}),Me=O(e=>{"use strict";var a=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.initFireworks=void 0;var i=a(ie()),t=document.createElement("canvas");t.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(t);var n=t.getContext("2d"),d=30,u=0,r=0,c="click",y=CONFIG.fireworks;function s(){t.width=window.innerWidth*2,t.height=window.innerHeight*2,t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px",t.getContext("2d").scale(2,2)}function l(f){u=f.clientX||f.touches&&f.touches[0].clientX,r=f.clientY||f.touches&&f.touches[0].clientY}function h(f){let p=i.default.random(0,360)*Math.PI/180,k=i.default.random(50,180),o=[-1,1][i.default.random(0,1)]*k;return{x:f.x+o*Math.cos(p),y:f.y+o*Math.sin(p)}}function m(f,p){let k={x:f,y:p,color:void 0,radius:void 0,endPos:void 0,draw(){n.beginPath(),n.arc(k.x,k.y,k.radius,0,2*Math.PI,!0),n.fillStyle=k.color,n.fill()}};return k.color=y[i.default.random(0,y.length-1)],k.radius=i.default.random(16,32),k.endPos=h(k),k}function b(f,p){let k={x:f,y:p,color:"#FFF",radius:.1,endPos:void 0,alpha:.5,lineWidth:6,draw(){n.globalAlpha=k.alpha,n.beginPath(),n.arc(k.x,k.y,k.radius,0,2*Math.PI,!0),n.lineWidth=k.lineWidth,n.strokeStyle=k.color,n.stroke(),n.globalAlpha=1}};return k}function T(f){for(let p of f)p.draw()}function C(f,p){let k=b(f,p),o=[];for(let g=0;g<d;g++)o.push(m(f,p));(0,i.default)().timeline().add({targets:o,duration:i.default.random(1200,1800),easing:"easeOutExpo",update:T,x:g=>g.endPos.x,y:g=>g.endPos.y,radius:.1}).add({targets:k,duration:i.default.random(1200,1800),easing:"easeOutExpo",update:T,radius:i.default.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:i.default.random(600,800)}}).play()}var L=(0,i.default)({duration:1/0,update(){n.clearRect(0,0,t.width,t.height)}}),w=(f,p)=>{p=p.toUpperCase();do{if(f==null)break;if(f.nodeName===p)return!0}while((f=f.parentNode)!==null);return!1};function x(){typeof CONFIG.fireworks>"u"||(document.addEventListener(c,f=>{w(f.target,"a")||(L.play(),l(f),C(u,r))},!1),s(),window.addEventListener("resize",s,!1))}e.initFireworks=x});function N(e,a,i){return e instanceof HTMLCollection||e instanceof NodeList||e instanceof Array?Array.prototype.forEach.call(e,a,i):a.call(i,e)}var W=S(()=>{});function oe(e){let a=e.text||e.textContent||e.innerHTML||"",i=e.src||"",t=e.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");return a.match("document.write")?!1:(n.type="text/javascript",n.id=e.id,i!==""&&(n.src=i,n.async=!1),a!==""&&n.appendChild(document.createTextNode(a)),t.appendChild(n),(t instanceof HTMLHeadElement||t instanceof HTMLBodyElement)&&t.contains(n)&&t.removeChild(n),!0)}var Oe=S(()=>{});function Se(e){e.tagName.toLowerCase()==="script"&&oe(e),N(e.querySelectorAll("script"),function(a){(!a.type||a.type.toLowerCase()==="text/javascript")&&(a.parentNode&&a.parentNode.removeChild(a),oe(a))})}var Ae=S(()=>{W(),Oe()});function le(e,a){e.outerHTML=a.outerHTML,this.onSwitch()}function je(e,a){e.innerHTML=a.innerHTML,a.className===""?e.removeAttribute("class"):e.className=a.className,this.onSwitch()}function Z(e,a){if(e.innerHTML=a.innerHTML,a.hasAttributes()){let i=a.attributes;for(let t=0;t<i.length;t++)e.attributes.setNamedItem(i[t].cloneNode())}this.onSwitch()}var ee=S(()=>{});function _e(e={}){return e.elements=e.elements||"a[href], form[action]",e.selectors=e.selectors||["title",".js-Pjax"],e.switches=e.switches||{},e.switchesOptions=e.switchesOptions||{},e.history=typeof e.history>"u"?!0:e.history,e.scrollTo=typeof e.scrollTo>"u"?0:e.scrollTo,e.scrollRestoration=typeof e.scrollRestoration<"u"?e.scrollRestoration:!0,e.cacheBust=typeof e.cacheBust>"u"?!0:e.cacheBust,e.timeout=e.timeout||0,e.currentUrlFullReload=typeof e.currentUrlFullReload>"u"?!1:e.currentUrlFullReload,e.switches.head||(e.switches.head=Z),e.switches.body||(e.switches.body=Z),e}var $e=S(()=>{ee()});function Be(e,a,i,t=document){e.forEach(n=>{N(t.querySelectorAll(n),a,i)})}var Pe=S(()=>{W()});function Ne(e,a,i,t,n,d){let u=[];i.forEach(function(r){let c=t.querySelectorAll(r),y=n.querySelectorAll(r);if(c.length!==y.length)throw`DOM doesn\u2019t look the same on new loaded page: \u2019${r}\u2019 - new ${c.length}, old ${y.length}`;N(c,function(s,l){let h=y[l],m=e[r]?e[r].bind(this,h,s,d,a[r]):le.bind(this,h,s,d);u.push(m)},this)},this),this.state.numPendingSwitches=u.length,u.forEach(r=>{r()})}var Re=S(()=>{W(),ee()}),U,de=S(()=>{U=function(){let e=0;return function(){let a=`pjax${new Date().getTime()}_${e}`;return e++,a}}()});function ce(e,a){e=typeof e=="string"?e.split(" "):e,e.forEach(a)}function te(e,a,i,t){ce(a,n=>{N(e,d=>{d.addEventListener(n,i,t)})})}function q(e,a,i={}){ce(a,t=>{let n=new CustomEvent(t,{bubbles:!0,cancelable:!0,...i});N(e,d=>{d.dispatchEvent(n)})})}var G=S(()=>{W()});function qe(e,a,i){for(let t=0;t<a.length;t++){let n=e.querySelectorAll(a[t]);for(let d=0;d<n.length;d++)if(n[d].contains(i))return!0}return!1}var Ie=S(()=>{});function De(e,a){if(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)return"modifier";if(e.protocol!==window.location.protocol||e.host!==window.location.host)return"external";if(e.hash&&e.href.replace(e.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(e.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}function We(e){let a=this;e.setAttribute(Y,""),te(e,"click",function(i){ae.call(a,e,i)}),te(e,"keyup",function(i){i.keyCode===13&&ae.call(a,e,i)}.bind(this))}var Y,ae,Ue=S(()=>{G(),Y="data-pjax-state",ae=function(e,a){if(a.defaultPrevented||a.returnValue===!1)return;let i={...this.options},t=De(e,a);if(t){e.setAttribute(Y,t);return}if(a.preventDefault(),this.options.currentUrlFullReload&&e.href===window.location.href.split("#")[0]){e.setAttribute(Y,"reload"),this.reload();return}e.setAttribute(Y,"load"),i.triggerElement=e,this.loadUrl(e.href,i)}});function Ye(e,a,i){let t=new RegExp("([?&])"+a+"=.*?(&|$)","i"),n=e.indexOf("?")!==-1?"&":"?";return e.match(t)?e.replace(t,"$1"+a+"="+i+"$2"):e+n+a+"="+i}var Xe=S(()=>{});function Ge(e,a={},i){let t=a.requestOptions||{},n=(t.requestMethod||"GET").toUpperCase(),d=t.requestParams||null,u=null,r=new XMLHttpRequest,c=a.timeout;if(r.onreadystatechange=function(){r.readyState===4&&(r.status===200?i(r.responseText,r,e,a):r.status!==0&&i(null,r,e,a))},r.onerror=function(y){console.error(y),i(null,r,e,a)},r.ontimeout=function(){i(null,r,e,a)},d&&d.length){let y=d.map(function(s){return s.name+"="+s.value}).join("&");switch(n){case"GET":e=e.split("?")[0],e+="?"+y;break;case"POST":u=y;break}}return a.cacheBust&&(e=Ye(e,"t",Date.now())),r.open(n,e,!0),r.timeout=c,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-PJAX","true"),r.setRequestHeader("X-PJAX-Selectors",JSON.stringify(a.selectors)),r.send(u),r}var ze=S(()=>{Xe()});function Fe(e,a,i,t){if(t={...t||this.options},t.request=a,e===!1){q(document,"pjax:complete pjax:error",t);return}let n=window.history.state||{};window.history.replaceState({url:n.url||window.location.href,title:n.title||document.title,uid:n.uid||U(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);let d=i;a.responseURL?i!==a.responseURL&&(i=a.responseURL):a.getResponseHeader("X-PJAX-URL")?i=a.getResponseHeader("X-PJAX-URL"):a.getResponseHeader("X-XHR-Redirected-To")&&(i=a.getResponseHeader("X-XHR-Redirected-To"));let u=document.createElement("a");u.href=d;let r=u.hash;u.href=i,r&&!u.hash&&(u.hash=r,i=u.href),this.state.href=i,this.state.options=t;try{this.loadContent(e,t)}catch(c){return q(document,"pjax:error",t),console.error("Pjax switch fail: ",c),this.latestChance(i)}}var Je=S(()=>{de(),G()});function Ke(e){switch(e.tagName.toLowerCase()){case"a":e.hasAttribute("data-pjax-state")||this.attachLink(e);break;default:throw"theme-shokax-pjax can only be applied on <a>"}}var Qe=S(()=>{}),he={};fe(he,{default:()=>ue});var I,ue,Ve=S(()=>{Ae(),W(),$e(),Pe(),Re(),ee(),de(),G(),G(),Ie(),Ue(),ze(),Je(),Qe(),I=class{constructor(e){this.state={numPendingSwitches:0,href:null,options:null},this.options=_e(e),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=U(),this.parseDOM(document),te(window,"popstate",function(a){if(a.state){let i={...this.options};i.url=a.state.url,i.title=a.state.title,i.history=!1,i.scrollPos=a.state.scrollPos,a.state.uid<this.lastUid?i.backward=!0:i.forward=!0,this.lastUid=a.state.uid,this.loadUrl(a.state.url,i)}}.bind(this))}getElements(e){return e.querySelectorAll(this.options.elements)}parseDOM(e){N(this.getElements(e),Ke,this)}refresh(e){this.parseDOM(e||document)}reload(){window.location.reload()}forEachSelectors(e,a,i){return Be.bind(this)(this.options.selectors,e,a,i)}switchSelectors(e,a,i,t){return Ne.bind(this)(this.options.switches,this.options.switchesOptions,e,a,i,t)}latestChance(e){window.location=e}onSwitch(){q(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()}loadContent(e,a){if(typeof e!="string"){q(document,"pjax:complete pjax:error",a);return}let i=document.implementation.createHTMLDocument("pjax"),t=/<html[^>]+>/gi,n=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,d=e.match(t);if(d&&d.length&&(d=d[0].match(n),d.length&&(d.shift(),d.forEach(function(u){let r=u.trim().split("=");r.length===1?i.documentElement.setAttribute(r[0],"true"):i.documentElement.setAttribute(r[0],r[1].slice(1,-1))}))),i.documentElement.innerHTML=e,document.activeElement&&qe(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch{}this.switchSelectors(this.options.selectors,i,document,a)}loadUrl(e,a){a=typeof a=="object"?Object.assign({},this.options,a):{...this.options},this.abortRequest(this.request),q(document,"pjax:send",a),this.request=this.doRequest(e,a,this.handleResponse.bind(this))}afterAllSwitches(){this.options.selectors.forEach(a=>{N(document.querySelectorAll(a),i=>{Se(i)})});let e=this.state;if(e.options.history&&(window.history.state||(this.lastUid=this.maxUid=U(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=U(),window.history.pushState({url:e.href,title:e.options.title,uid:this.maxUid,scrollPos:[0,0]},e.options.title,e.href)),this.forEachSelectors(function(a){this.parseDOM(a)},this),q(document,"pjax:complete pjax:success",e.options),e.options.history){let a=document.createElement("a");if(a.href=this.state.href,a.hash){let i=a.hash.slice(1);i=decodeURIComponent(i);let t=0,n=document.getElementById(i)||document.getElementsByName(i)[0];if(n&&n.offsetParent)do t+=n.offsetTop,n=n.offsetParent;while(n);window.scrollTo(0,t)}else e.options.scrollTo!==!1&&(e.options.scrollTo.length>1?window.scrollTo(e.options.scrollTo[0],e.options.scrollTo[1]):window.scrollTo(0,e.options.scrollTo))}else e.options.scrollRestoration&&e.options.scrollPos&&window.scrollTo(e.options.scrollPos[0],e.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}abortRequest(e){e&&e.readyState<4&&(e.onreadystatechange=function(){},e.abort())}},I.prototype.attachLink=We,I.prototype.doRequest=Ge,I.prototype.handleResponse=Fe,I.switches={innerHTML:je,outerHTML:le,switchElementsAlt:Z},ue=I}),Ze=O(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initVue=void 0;var a=X(),i=P(),t=A(),n=j(),d=V();function u(){Vue.createApp({data(){return{}},methods:{changeThemeByBtn(){let r,c=(0,t.$dom)(".theme").child(".ic"),y=n.BODY.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'}),s=()=>{(0,i.transition)(y,{delay:2500,opacity:0},()=>{n.BODY.removeChild(y)})};c.hasClass("i-sun")?r=()=>{y.addClass("dark"),(0,d.changeTheme)("dark"),a.$storage.set("theme","dark"),s()}:(y.addClass("dark"),r=()=>{y.removeClass("dark"),(0,d.changeTheme)(),a.$storage.set("theme","light"),s()}),(0,i.transition)(y,1,()=>{setTimeout(r,210)},()=>{y.display("block")})}}}).mount("#rightNav")}e.initVue=u}),et=O(e=>{var a=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var i=a(Ce()),t=Ee(),n=Q(),d=He(),u=j(),r=V(),c=ne(),y=D(),s=Me(),l=a((Ve(),ye(he))),h=Ze(),m=()=>{(0,i.default)(),(0,h.initVue)(),(0,u.setPjax)(new l.default({selectors:["head title",".languages",".twikoo",".pjax",".leancloud-recent-comment","script[data-config]"],cacheBust:!1})),CONFIG.quicklink.ignores=LOCAL.ignores,quicklink.listen(CONFIG.quicklink),(0,r.autoDarkmode)(),CONFIG.disableVL||(0,c.visibilityListener)(),(0,r.themeColorListener)(),(0,d.algoliaSearch)(u.pjax),(0,s.initFireworks)(),window.addEventListener("scroll",c.scrollHandle),window.addEventListener("resize",c.resizeHandle),window.addEventListener("pjax:send",t.pjaxReload),window.addEventListener("pjax:success",t.siteRefresh),window.addEventListener("beforeunload",()=>{(0,y.pagePosition)()}),(0,t.siteRefresh)(1)};(0,n.cloudflareInit)(),window.addEventListener("DOMContentLoaded",m,{passive:!0}),console.log("%c Theme.ShokaX v"+CONFIG.version+" %c https://github.com/theme-shoka-x/hexo-theme-shokaX ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;")});et()})();/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)
*/
