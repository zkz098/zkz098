var d={version:"0.2.5",hostname:"https://www.kaitaku.xyz",root:"/",statics:"/",favicon:{normal:"images/favicon.ico",hidden:"images/failure.ico"},darkmode:false,auto_dark:{enable:true,start:20,end:7},auto_scroll:true,js:{chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.12.0/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"},css:{valine:"css/comment.css",katex:"npm/katex@0.12.0/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:true,switch:false},search:{appID:"Z90S0X07N8",apiKey:"8770deb4853046c6fb7f786f02ab69be",indexName:"kaitaku-blog",hits:{per_page:10}},valine:{appId:null,appKey:null,placeholder:"ヽ(○´∀`)ﾉ♪",avatar:"mp",pageSize:10,lang:"zh-CN",visitor:true,NoRecordIP:false,serverURLs:null,powerMode:true,tagMeta:{visitor:"新朋友",master:"主人",friend:"小伙伴"},tagColor:{master:"var(--color-orange)",friend:"var(--color-aqua)"},tagMember:{master:["2de7163f67f0a70f80092ba199a5c6d3"],friend:["f85cfd95e12ab76153f440a184567a04","0062e907b5b82d231af37c0db7a15dde"]}},quicklink:{timeout:3e3,priority:true},audio:[{title:"列表1",list:["https://music.163.com/#/playlist?id=2943811283","https://music.163.com/#/playlist?id=2297706586"]},{title:"列表2",list:["https://music.163.com/#/playlist?id=2031842656"]}],fireworks:["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"]};const _=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const R=function(){return g("main > .inner").offsetHeight};const P=function(e,i,t){if(t){i()}else{let n=document.createElement("script");n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState)){n.onload=n.onreadystatechange=null;n=undefined;if(!t&&i)setTimeout(i,0)}};n.src=e;document.head.appendChild(n)}};const i=function(e,t){const n=d[e][t];if(n.indexOf("npm")>-1||n.indexOf("gh")>-1||n.indexOf("combine")>-1)return"https://jsd.kaitaku.xyz/"+n;if(n.indexOf("http")>-1)return n;return"/"+n};const t=function(e,t,n){if(LOCAL[e]){P(i("js",e),t||function(){window[e]=true},n||window[e])}};const a=function(e,t){if(window["css"+e])return;if(LOCAL[e]){document.head.createChild("link",{rel:"stylesheet",href:i("css",e)});window["css"+e]=true}};const D=function(e){const t=e.text||e.textContent||e.innerHTML||"";const n=e.parentNode;n.removeChild(e);const i=document.createElement("script");if(e.id){i.id=e.id}if(e.className){i.className=e.className}if(e.type){i.type=e.type}if(e.src){i.src=e.src;i.async=false}if(e.dataset.pjax!==undefined){i.dataset.pjax=""}if(t!==""){i.appendChild(document.createTextNode(t))}n.appendChild(i)};const p=function(e,t,n){const i={targets:typeof t=="number"?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||(typeof e=="number"?e:e?e.top()+document.documentElement.scrollTop-F:0),complete:function(){n&&n()}};anime(i)};const s=function(t,e,n){let i;let a="none";switch(e){case 0:i={opacity:[1,0]};break;case 1:i={opacity:[0,1]};a="block";break;case"bounceUpIn":i={begin:function(e){t.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]};a="block";break;case"shrinkIn":i={begin:function(e){t.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1};a="block";break;case"slideRightIn":i={begin:function(e){t.display("block")},translateX:[100,0],opacity:[0,1]};a="block";break;case"slideRightOut":i={translateX:[0,100],opacity:[1,0]};break;default:i=e;a=e.display;break}anime(Object.assign({targets:t,duration:200,easing:"linear"},i)).finished.then(function(){t.display(a);n&&n()})};const m={get:function(e){return localStorage.getItem(e)},set:function(e,t){localStorage.setItem(e,t);return t},del:function(e){localStorage.removeItem(e)}};const g=function(e,t){t=t||document;if(e.indexOf("#")===0){return t.getElementById(e.replace("#",""))}return t.querySelector(e)};g.all=function(e,t){t=t||document;return t.querySelectorAll(e)};g.each=function(e,t,n){return g.all(e,n).forEach(t)};Object.assign(HTMLElement.prototype,{createChild:function(e,t,n){const i=document.createElement(e);Object.assign(i,t);switch(n){case"after":this.insertAfter(i);break;case"replace":this.innerHTML="";default:this.appendChild(i)}return i},wrap:function(e){const t=document.createElement("div");Object.assign(t,e);this.parentNode.insertBefore(t,this);this.parentNode.removeChild(this);t.appendChild(this)},height:function(e){if(e){this.style.height=typeof e=="number"?e+"rem":e}return this.getBoundingClientRect().height},width:function(e){if(e){this.style.width=typeof e=="number"?e+"rem":e}return this.getBoundingClientRect().width},top:function(){return this.getBoundingClientRect().top},left:function(){return this.getBoundingClientRect().left},attr:function(e,t){if(t===null){return this.removeAttribute(e)}if(t){this.setAttribute(e,t);return this}else{return this.getAttribute(e)}},insertAfter:function(e){const t=this.parentNode;if(t.lastChild===this){t.appendChild(e)}else{t.insertBefore(e,this.nextSibling)}},display:function(e){if(e==null){return this.style.display}else{this.style.display=e;return this}},child:function(e){return g(e,this)},find:function(e){return g.all(e,this)},_class:function(t,e,n){const i=e.indexOf(" ")?e.split(" "):[e];const a=this;i.forEach(function(e){if(t==="toggle"){a.classList.toggle(e,n)}else{a.classList[t](e)}})},addClass:function(e){this._class("add",e);return this},removeClass:function(e){this._class("remove",e);return this},toggleClass:function(e,t){this._class("toggle",e,t);return this},hasClass:function(e){return this.classList.contains(e)}});let v=null;const y=/mobile/i.test(window.navigator.userAgent);const n=function(s,e){const a={el:{},create:function(){if(!s.player.options.btns)return;const e=this;s.player.options.btns.forEach(function(t){if(e.el[t])return;e.el[t]=s.createChild("div",{className:t+" btn",onclick:function(e){s.player.fetch().then(function(){s.player.options.events[t](e)})}})})}};const c={el:null,btns:{},step:"next",create:function(){if(!s.player.options.controls)return;const n=this;s.player.options.controls.forEach(function(t){if(n.btns[t])return;const e={onclick:function(e){n.events[t]?n.events[t](e):s.player.options.events[t](e)}};switch(t){case"volume":e.className=" "+(r.muted?"off":"on");e.innerHTML='<div class="bar"></div>';e["on"+d.nameMap.dragStart]=n.events["volume"];e.onclick=null;break;case"mode":e.className=" "+s.player.options.mode;break;default:e.className="";break}e.className=t+e.className+" btn";n.btns[t]=n.el.createChild("div",e)});n.btns["volume"].bar=n.btns["volume"].child(".bar")},events:{mode:function(e){switch(s.player.options.mode){case"loop":s.player.options.mode="random";break;case"random":s.player.options.mode="order";break;default:s.player.options.mode="loop"}c.btns["mode"].className="mode "+s.player.options.mode+" btn";m.set("_PlayerMode",s.player.options.mode)},volume:function(e){e.preventDefault();const t=e.currentTarget;let n=false;const i=function(e){e.preventDefault();s.player.volume(c.percent(e,t));n=true};const a=function(e){e.preventDefault();t.removeEventListener(d.nameMap.dragEnd,a);t.removeEventListener(d.nameMap.dragMove,i);if(n){s.player.muted();s.player.volume(c.percent(e,t))}else{if(r.muted){s.player.muted();s.player.volume(r.volume)}else{s.player.muted("muted");c.update(0)}}};t.addEventListener(d.nameMap.dragMove,i);t.addEventListener(d.nameMap.dragEnd,a)},backward:function(e){c.step="prev";s.player.mode()},forward:function(e){c.step="next";s.player.mode()}},update:function(e){c.btns["volume"].className="volume "+(!r.muted&&e>0?"on":"off")+" btn";c.btns["volume"].bar.width(Math.floor(e*100)+"%")},percent:function(e,t){let n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width();n=Math.max(n,0);return Math.min(n,1)}};const o={el:null,bar:null,create:function(){const e=l.current().el;if(e){if(this.el){this.el.parentNode.removeClass("current").removeEventListener(d.nameMap.dragStart,this.drag);this.el.remove()}this.el=e.createChild("div",{className:"progress"});this.el.attr("data-dtime",d.secondToTime(0));this.bar=this.el.createChild("div",{className:"bar"});e.addClass("current");e.addEventListener(d.nameMap.dragStart,this.drag);l.scroll()}},update:function(e){this.bar.width(Math.floor(e*100)+"%");this.el.attr("data-ptime",d.secondToTime(e*r.duration))},seeking:function(e){if(e)this.el.addClass("seeking");else this.el.removeClass("seeking")},percent:function(e,t){let n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width();n=Math.max(n,0);return Math.min(n,1)},drag:function(e){e.preventDefault();const n=l.current().el;const i=function(e){e.preventDefault();const t=o.percent(e,n);o.update(t);u.update(t*r.duration)};const a=function(e){e.preventDefault();n.removeEventListener(d.nameMap.dragEnd,a);n.removeEventListener(d.nameMap.dragMove,i);const t=o.percent(e,n);o.update(t);s.player.seek(t*r.duration);r.disableTimeupdate=false;o.seeking(false)};r.disableTimeupdate=true;o.seeking(true);n.addEventListener(d.nameMap.dragMove,i);n.addEventListener(d.nameMap.dragEnd,a)}};const n={el:null,create:function(){const e=l.current();this.el.innerHTML='<div class="cover"><div class="disc"><img src="'+e.cover+'" class="blur" /></div></div>'+'<div class="info"><h4 class="title">'+e.name+"</h4><span>"+e.artist+"</span>"+'<div class="lrc"></div></div>';this.el.child(".cover").addEventListener("click",s.player.options.events["play-pause"]);u.create(this.el.child(".lrc"))}};let r;const l={el:null,data:[],index:-1,errnum:0,add:function(n,e){const i=this;e.forEach(function(e,t){e.group=n;e.name=e.name||e.title||"Meida name";e.artist=e.artist||e.author||"Anonymous";e.cover=e.cover||e.pic;e.type=e.type||"normal";i.data.push(e)})},clear:function(){this.data=[];this.el.innerHTML="";if(this.index!==-1){this.index=-1;s.player.fetch()}},create:function(){const a=this.el;this.data.map(function(e,n){if(e.el)return;const t="list-"+s.player._id+"-"+e.group;let i=g("#"+t);if(!i){i=a.createChild("div",{id:t,className:s.player.group?"tab":"",innerHTML:"<ol></ol>"});if(s.player.group){i.attr("data-title",s.player.options.rawList[e.group]["title"]).attr("data-id",s.player._id)}}e.el=i.child("ol").createChild("li",{title:e.name+" - "+e.artist,innerHTML:'<span class="info"><span>'+e.name+"</span><span>"+e.artist+"</span></span>",onclick:function(e){const t=e.currentTarget;if(l.index===n&&o.el){if(r.paused){s.player.play()}else{s.player.seek(r.duration*o.percent(e,t))}return}s.player.switch(n);s.player.play()}});return e});ge()},current:function(){return this.data[this.index]},scroll:function(){const e=this.current();let t=this.el.child("li.active");t&&t.removeClass("active");let n=this.el.child(".tab.active");n&&n.removeClass("active");t=this.el.find(".nav li")[e.group];t&&t.addClass("active");n=this.el.find(".tab")[e.group];n&&n.addClass("active");p(e.el,e.el.offsetTop);return this},title:function(){if(r.paused)return;const e=this.current();document.title="Now Playing..."+e["name"]+" - "+e["artist"]+" | "+b},error:function(){const e=this.current();e.el.removeClass("current").addClass("error");e.error=true;this.errnum++}};const t={el:null,create:function(){if(this.el)return;this.el=s.createChild("div",{className:"player-info",innerHTML:(s.player.options.type==="audio"?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after");n.el=this.el.child(".preview");l.el=this.el.child(".playlist");c.el=this.el.child(".controller")},hide:function(){const e=this.el;e.addClass("hide");window.setTimeout(function(){e.removeClass("show hide")},300)}};let i={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause":function(e){if(r.paused){s.player.play()}else{s.player.pause()}},music:function(e){if(t.el.hasClass("show")){t.hide()}else{t.el.addClass("show");l.scroll().title()}}}},d={random:function(e){return Math.floor(Math.random()*e)},parse:function(i){let a=[];[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(function(e){const t=new RegExp(e[0]);const n=t.exec(i);if(n!==null){a=[e[1],e[2],n[1]]}});return a},fetch:function(t){const a=[];return new Promise(function(i,e){t.forEach(function(e){const t=d.parse(e);if(t[0]){const n=JSON.stringify(t);const e=m.get(n);if(e){a.push.apply(a,JSON.parse(e));i(a)}else{fetch("https://api.i-meto.com/meting/api?server="+t[0]+"&type="+t[1]+"&id="+t[2]+"&r="+Math.random()).then(function(e){return e.json()}).then(function(e){m.set(n,JSON.stringify(e));a.push.apply(a,e);i(a)}).catch(function(e){})}}else{a.push(e);i(a)}})})},secondToTime:function(e){const t=function(e){return isNaN(e)?"00":e<10?"0"+e:""+e};const n=Math.floor(e/3600);const i=Math.floor((e-n*3600)/60);const a=Math.floor(e-n*3600-i*60);return(n>0?[n,i,a]:[i,a]).map(t).join(":")},nameMap:{dragStart:y?"touchstart":"mousedown",dragMove:y?"touchmove":"mousemove",dragEnd:y?"touchend":"mouseup"}};r=null;s.player={_id:d.random(999999),group:true,load:function(e){let t="";const n=this;if(e&&e.length>0){if(this.options.rawList!==e){this.options.rawList=e;l.clear()}}else{t="none";this.pause()}for(const i in a.el){a.el[i].display(t)}return this},fetch:function(){const o=this;return new Promise(function(e,t){if(l.data.length>0){e()}else{if(o.options.rawList){const n=[];o.options.rawList.forEach(function(a,s){n.push(new Promise(function(t,e){let n=s;let i;if(!a.list){n=0;o.group=false;i=[a]}else{o.group=true;i=a.list}d.fetch(i).then(function(e){l.add(n,e);t()})}))});Promise.all(n).then(function(){e(true)})}}}).then(function(e){if(e){l.create();c.create();o.mode()}})},mode:function(){const t=l.data.length;if(!t||l.errnum===t)return;const n=c.step==="next"?1:-1;const i=function(){let e=l.index+n;if(e>t||e<0){e=c.step==="next"?0:t-1}l.index=e};const e=function(){const e=d.random(t);if(l.index!==e){l.index=e}else{i()}};switch(this.options.mode){case"random":e();break;case"order":i();break;case"loop":if(c.step)i();if(l.index===-1)e();break}this.init()},switch:function(e){if(typeof e=="number"&&e!==l.index&&l.current()&&!l.current().error){l.index=e;this.init()}},init:function(){const e=l.current();if(!e||e["error"]){this.mode();return}let t=false;if(!r.paused){t=true;this.stop()}r.attr("src",e.url);r.attr("title",e.name+" - "+e.artist);this.volume(m.get("_PlayerVolume")||"0.7");this.muted(m.get("_PlayerMuted"));o.create();if(this.options.type==="audio")n.create();if(t===true){this.play()}},play:function(){v&&v.player.pause();if(l.current().error){this.mode();return}const e=this;r.play().then(function(){l.scroll()}).catch(function(e){})},pause:function(){r.pause();document.title=b},stop:function(){r.pause();r.currentTime=0;document.title=b},seek:function(e){e=Math.max(e,0);e=Math.min(e,r.duration);r.currentTime=e;o.update(e/r.duration)},muted:function(e){if(e==="muted"){r.muted=e;m.set("_PlayerMuted",e);c.update(0)}else{m.del("_PlayerMuted");r.muted=false;c.update(r.volume)}},volume:function(e){if(!isNaN(e)){c.update(e);m.set("_PlayerVolume",e);r.volume=e}},mini:function(){t.hide()}};const u={el:null,data:null,index:0,create:function(t){const i=l.index;const a=this;const e=l.current().lrc;const n=function(e){if(i!==l.index)return;a.data=a.parse(e);let n="";a.data.forEach(function(e,t){n+="<p"+(t===0?' class="current"':"")+">"+e[1]+"</p>"});a.el=t.createChild("div",{className:"inner",innerHTML:n},"replace");a.index=0};if(e.startsWith("http"))this.fetch(e,n);else n(e)},update:function(t){if(!this.data)return;if(this.index>this.data.length-1||t<this.data[this.index][0]||(!this.data[this.index+1]||t>=this.data[this.index+1][0])){for(let e=0;e<this.data.length;e++){if(t>=this.data[e][0]&&(!this.data[e+1]||t<this.data[e+1][0])){this.index=e;const n=-(this.index-1);this.el.style.transform="translateY("+n+"rem)";this.el.getElementsByClassName("current")[0].removeClass("current");this.el.getElementsByTagName("p")[e].addClass("current")}}}},parse:function(e){if(e){e=e.replace(/([^\]^\n])\[/g,function(e,t){return t+"\n["});const n=e.split("\n");let t=[];const i=n.length;for(let e=0;e<i;e++){const a=n[e].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g);const s=n[e].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(a){const o=a.length;for(let e=0;e<o;e++){const c=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(a[e]);const r=c[1]*60;const l=parseInt(c[2]);const d=c[4]?parseInt(c[4])/((c[4]+"").length===2?100:1e3):0;const u=r+l+d;t.push([u,s])}}}t=t.filter(function(e){return e[1]});t.sort(function(e,t){return e[0]-t[0]});return t}else{return[]}},fetch:function(e,t){fetch(e).then(function(e){return e.text()}).then(function(e){t(e)}).catch(function(e){})}};const f={onerror:function(){l.error();s.player.mode()},ondurationchange:function(){if(r.duration!==1){o.el.attr("data-dtime",d.secondToTime(r.duration))}},onloadedmetadata:function(){s.player.seek(0);o.el.attr("data-dtime",d.secondToTime(r.duration))},onplay:function(){s.parentNode.addClass("playing");S(this.attr("title"));v=s},onpause:function(){s.parentNode.removeClass("playing");v=null},ontimeupdate:function(){if(!this.disableTimeupdate){o.update(this.currentTime/this.duration);u.update(this.currentTime)}},onended:function(e){s.player.mode();s.player.play()}};const h=function(e){if(s.player.created)return;s.player.options=Object.assign(i,e);s.player.options.mode=m.get("_PlayerMode")||s.player.options.mode;a.create();r=s.createChild(s.player.options.type,f);t.create();s.parentNode.addClass(s.player.options.type);s.player.created=true};h(e);return s};const o=d.statics.indexOf("//")>0?d.statics:d.root;const c={x:"undefined",y:"undefined"};let u=0;let b,z;const l=document.getElementsByTagName("body")[0];const r=document.documentElement;const B=g("#container");const f=g("#loading");const h=g("#nav");const W=g("#header");const w=h.child(".toggle");const Y=g("#quick");const C=g("#sidebar");const X=g("#brand");let x=g("#tool"),k,L,E,T;let N=g("#search");let F,M,U;let G=window.innerHeight;let $=window.innerWidth;let O=0,j=window.location.href;let J;const I=function(e){const t=g(".theme .ic");if(e==="dark"){r.attr("data-theme",e);t.removeClass("i-sun");t.addClass("i-moon")}else{r.attr("data-theme",null);t.removeClass("i-moon");t.addClass("i-sun")}};const K=function(){if(d.auto_dark.enable){if((new Date).getHours()>=d.auto_dark.start||(new Date).getHours()<=d.auto_dark.end){I("dark")}else{I()}}};const Q=lozad("img, [data-background-image]",{loaded:function(e){e.addClass("lozaded")}});const H={timer:null,lock:false,show:function(){clearTimeout(this.timer);document.body.removeClass("loaded");f.attr("style","display:block");H.lock=false},hide:function(e){if(!d.loader.start)e=-1;this.timer=setTimeout(this.vanish,e||3e3)},vanish:function(){if(H.lock)return;if(d.loader.start)s(f,0);document.body.addClass("loaded");H.lock=true}};const V=function(e){if(r.attr("data-theme")==="dark")e="#222";g('meta[name="theme-color"]').attr("content",e)};const Z=function(){window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){if(e.matches){I("dark")}else{I()}});const e=m.get("theme");if(e){I(e)}else{if(d.darkmode){I("dark")}}g(".theme").addEventListener("click",function(e){let t;const n=e.currentTarget.child(".ic");const i=l.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'});const a=function(){s(i,{delay:2500,opacity:0},function(){l.removeChild(i)})};if(n.hasClass("i-sun")){t=function(){i.addClass("dark");I("dark");m.set("theme","dark");a()}}else{i.addClass("dark");t=function(){i.removeClass("dark");I();m.set("theme","light");a()}}s(i,1,function(){setTimeout(t,210)})})};const ee=function(){let e=g('[rel="icon"]');document.addEventListener("visibilitychange",function(){switch(document.visibilityState){case"hidden":e.attr("href",o+d.favicon.hidden);document.title=LOCAL.favicon.hide;if(d.loader.switch)H.show();clearTimeout(z);break;case"visible":e.attr("href",o+d.favicon.normal);document.title=LOCAL.favicon.show;if(d.loader.switch)H.hide(1e3);z=setTimeout(function(){document.title=b},2e3);break}})};const S=function(e){if(!e)return;const t=l.createChild("div",{innerHTML:e,className:"tip"});setTimeout(function(){t.addClass("hide");setTimeout(function(){l.removeChild(t)},300)},3e3)};const te=function(e){F=h.height();M=W.height();U=M+g("#waves").height();if($!==window.innerWidth)q(null,1);G=window.innerHeight;$=window.innerWidth;C.child(".panels").height(G+"px")};const ne=function(e){const t=window.innerHeight;const n=R();const i=n>t?n-t:document.body.scrollHeight-t;const a=window.scrollY>M;const s=window.scrollY>0;if(a){V("#FFF")}else{V("#222")}h.toggleClass("show",a);x.toggleClass("affix",s);X.toggleClass("affix",s);C.toggleClass("affix",window.scrollY>U&&document.body.offsetWidth>991);if(typeof c.y=="undefined"){c.y=window.scrollY}u=c.y-window.scrollY;if(u<0){h.removeClass("up");h.toggleClass("down",a)}else if(u>0){h.removeClass("down");h.toggleClass("up",a)}else{}c.y=window.scrollY;const o=Math.round(Math.min(100*window.scrollY/i,100))+"%";L.child("span").innerText=o;g(".percent").width(o)};const ie=function(){if(d.auto_scroll)m.set(j,c.y)};const ae=function(e){const t=window.location.hash;let n=null;if(O){m.del(j);return}if(t)n=g(decodeURI(t));else{n=d.auto_scroll?parseInt(m.get(j)):0}if(n){p(n);O=1}if(e&&t&&!O){p(n);O=1}};const se=function(e,t){if(navigator.clipboard&&window.isSecureContext){navigator.clipboard.writeText(e).then(function(){t&&t(true)},function(){t&&t(false)})}else{const n=l.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:true,value:e});const i=document.getSelection();const a=i.rangeCount>0?i.getRangeAt(0):false;n.select();n.setSelectionRange(0,e.length);n.readOnly=false;const s=document.execCommand("copy");t&&t(s);n.blur();if(a){i.removeAllRanges();i.addRange(a)}l.removeChild(n)}};const q=function(e,t){if(C.hasClass("on")){C.removeClass("on");w.removeClass("close");if(t){C.style=""}else{s(C,"slideRightOut")}}else{if(t){C.style=""}else{s(C,"slideRightIn",function(){C.addClass("on");w.addClass("close")})}}};const oe=function(){const e=C.child(".inner");const t=C.find(".panel");if(C.child(".tab")){e.removeChild(C.child(".tab"))}let s=document.createElement("ul"),o="active";s.className="tab";["contents","related","overview"].forEach(function(e){const t=C.child(".panel."+e);if(t.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1){if(e==="contents"){T.display("none")}return}if(e==="contents"){T.display("")}const n=document.createElement("li");const i=document.createElement("span");const a=document.createTextNode(t.attr("data-title"));i.appendChild(a);n.appendChild(i);n.addClass(e+" item");if(o){t.addClass(o);n.addClass(o)}else{t.removeClass("active")}n.addEventListener("click",function(e){const t=event.currentTarget;if(t.hasClass("active"))return;C.find(".tab .item").forEach(function(e){e.removeClass("active")});C.find(".panel").forEach(function(e){e.removeClass("active")});C.child(".panel."+t.className.replace(" item","")).addClass("active");t.addClass("active")});s.appendChild(n);o=""});if(s.childNodes.length>1){e.insertBefore(s,e.childNodes[0]);C.child(".panels").style.paddingTop=""}else{C.child(".panels").style.paddingTop=".625rem"}};const ce=function(){const o=function(e,t){const n=s[e];if(!n)return;if(n.hasClass("current")){return}g.each(".toc .active",function(e){e&&e.removeClass("active current")});c.forEach(function(e){e&&e.removeClass("active")});n.addClass("active current");c[e]&&c[e].addClass("active");let i=n.parentNode;while(!i.matches(".contents")){if(i.matches("li")){i.addClass("active");const a=g(i.child("a.toc-link").attr("href"));if(a){a.addClass("active")}}i=i.parentNode}if(getComputedStyle(C).display!=="none"&&l.hasClass("active")){p(l,n.offsetTop-l.offsetHeight/4)}};const s=g.all(".contents li");if(s.length<1){return}let c=Array.prototype.slice.call(s)||[];let r=null;c=c.map(function(e,n){const t=e.child("a.toc-link");const i=g(decodeURI(t.attr("href")));if(!i)return;const a=i.child("a.anchor");const s=function(e){e.preventDefault();const t=g(decodeURI(e.currentTarget.attr("href")));r=n;p(t,null,function(){o(n);r=null})};t.addEventListener("click",s);a&&a.addEventListener("click",function(e){s(e);se(d.hostname+"/"+LOCAL.path+e.currentTarget.attr("href"))});return i});const l=C.child(".contents.panel");const i=function(e){let t=0;let n=e[t];if(n.boundingClientRect.top>0){t=c.indexOf(n.target);return t===0?0:t-1}for(;t<e.length;t++){if(e[t].boundingClientRect.top<=0){n=e[t]}else{return c.indexOf(n.target)}}return c.indexOf(n.target)};const e=function(){if(!window.IntersectionObserver)return;const t=new IntersectionObserver(function(e,t){const n=i(e)+(u<0?1:0);if(r===null){o(n)}},{rootMargin:"0px 0px -100% 0px",threshold:0});c.forEach(function(e){e&&t.observe(e)})};e()};const re=function(){p(0)};const le=function(){p(parseInt(B.height()))};const de=function(){p(g("#comments"))};const ue=function(){g.each(".menu .item:not(.title)",function(e){const t=e.child("a[href]");const n=e.parentNode.parentNode;if(!t)return;const i=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html","");const a=!d.root.startsWith(t.pathname)&&location.pathname.startsWith(t.pathname);const s=t.hostname===location.hostname&&(i||a);e.toggleClass("active",s);if(e.parentNode.child(".active")&&n.hasClass("dropdown")){n.removeClass("active").addClass("expand")}else{n.removeClass("expand")}})};const fe=function(){if(!g(".index.wrap"))return;if(!window.IntersectionObserver){g.each(".index.wrap article.item, .index.wrap section.item",function(e){if(e.hasClass("show")===false){e.addClass("show")}})}else{const t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.target.hasClass("show")){t.unobserve(e.target)}else{if(e.isIntersecting||e.intersectionRatio>0){e.target.addClass("show");t.unobserve(e.target)}}})},{root:null,threshold:[.3]});g.each(".index.wrap article.item, .index.wrap section.item",function(e){t.observe(e)});g(".index.wrap .item:first-child").addClass("show")}g.each(".cards .item",function(t,e){["mouseenter","touchstart"].forEach(function(e){t.addEventListener(e,function(e){if(g(".cards .item.active")){g(".cards .item.active").removeClass("active")}t.addClass("active")},{passive:true})});["mouseleave"].forEach(function(e){t.addEventListener(e,function(e){t.removeClass("active")},{passive:true})})})};const he=function(){g.each("span.exturl",function(e){const t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));t.rel="noopener external nofollow noreferrer";t.target="_blank";t.className=e.className;t.title=e.title||e.innerText;t.innerHTML=e.innerHTML;if(e.dataset.backgroundImage){t.dataset.backgroundImage=e.dataset.backgroundImage}e.parentNode.replaceChild(t,e)})};const pe=function(e){if(g(e+" .md img")){a("fancybox");t("fancybox",function(){const r=jQuery.noConflict();g.each(e+" p.gallery",function(e){const t=document.createElement("div");t.className="gallery";t.attr("data-height",e.attr("data-height")||220);t.innerHTML=e.innerHTML.replace(/<br>/g,"");e.parentNode.insertBefore(t,e);e.remove()});g.each(e+" .md img:not(.emoji):not(.vemoji)",function(e){const t=r(e);const n=t.attr("data-src")||t.attr("src");const i=t.wrap('<a class="fancybox" href="'+n+'" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>').parent("a");let a,s="image-info";if(!t.is("a img")){t.data("safe-src",n);if(!t.is(".gallery img")){i.attr("data-fancybox","default").attr("rel","default")}else{s="jg-caption"}}if(a=e.attr("title")){i.attr("data-caption",a);const o=document.createElement("span");const c=document.createTextNode(a);o.appendChild(c);o.addClass(s);e.insertAfter(o)}});g.each(e+" div.gallery",function(e,n){r(e).justifiedGallery({rowHeight:r(e).data("height")||120,rel:"gallery-"+n}).on("jg.complete",function(){r(this).find("a").each(function(e,t){t.attr("data-fancybox","gallery-"+n)})})});r.fancybox.defaults.hash=false;r(e+" .fancybox").fancybox({loop:true,helpers:{overlay:{locked:false}}})},window.jQuery)}};const me=function(){ve();if(!g(".md"))return;pe(".post.block");g(".post.block").oncopy=function(e){S(LOCAL.copyright);if(LOCAL.nocopy){e.preventDefault();return}const t=g("#copyright");if(window.getSelection().toString().length>30&&t){e.preventDefault();const n="# "+t.child(".author").innerText;const i="# "+t.child(".link").innerText;const a="# "+t.child(".license").innerText;const s=n+"<br>"+i+"<br>"+a+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>");const o=n+"\n"+i+"\n"+a+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData){e.clipboardData.setData("text/html",s);e.clipboardData.setData("text/plain",o)}else if(window.clipboardData){return window.clipboardData.setData("text",o)}}};g.each("li ruby",function(e){let t=e.parentNode;if(e.parentNode.tagName!=="LI"){t=e.parentNode.parentNode}t.addClass("ruby")});g.each("ol[start]",function(e){e.style.counterReset="counter "+parseInt(e.attr("start")-1)});g.each(".md table",function(e){e.wrap({className:"table-container"})});g.each(".highlight > .table-container",function(e){e.className="code-container"});g.each("figure.highlight",function(n){const a=n.child(".code-container");const e=n.child("figcaption");n.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');const t=n.child(".copy-btn");if(LOCAL.nocopy){t.remove()}else{t.addEventListener("click",function(e){const t=e.currentTarget;let n="",i="";a.find("pre").forEach(function(e){i+=n+e.innerText;n="\n"});se(i,function(e){t.child(".ic").className=e?"ic i-check":"ic i-times";t.blur();S(LOCAL.copyright)})},{passive:true});t.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.child(".ic").className="ic i-clipboard"},1e3)})}const i=n.child(".breakline-btn");i.addEventListener("click",function(e){const t=e.currentTarget;if(n.hasClass("breakline")){n.removeClass("breakline");t.child(".ic").className="ic i-align-left"}else{n.addClass("breakline");t.child(".ic").className="ic i-align-justify"}});const s=n.child(".fullscreen-btn");const o=function(){n.removeClass("fullscreen");n.scrollTop=0;l.removeClass("fullscreen");s.child(".ic").className="ic i-expand"};const c=function(e){const t=e.currentTarget;if(n.hasClass("fullscreen")){o();hideCode&&hideCode();p(n)}else{n.addClass("fullscreen");l.addClass("fullscreen");s.child(".ic").className="ic i-compress";showCode&&showCode()}};s.addEventListener("click",c);e&&e.addEventListener("click",c);if(a&&a.find("tr").length>15){a.style.maxHeight="300px";a.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');const r=a.child(".show-btn");const showCode=function(){a.style.maxHeight="";r.addClass("open")};const hideCode=function(){a.style.maxHeight="300px";r.removeClass("open")};r.addEventListener("click",function(e){if(r.hasClass("open")){o();hideCode();p(a)}else{showCode()}})}});g.each("pre.mermaid > svg",function(e){e.style.maxWidth=""});g.each(".reward button",function(e){e.addEventListener("click",function(e){e.preventDefault();const t=g("#qr");if(t.display()==="inline-flex"){s(t,0)}else{s(t,1,function(){t.display("inline-flex")})}})});g.each(".quiz > ul.options li",function(t){t.addEventListener("click",function(e){if(t.hasClass("correct")){t.toggleClass("right");t.parentNode.parentNode.addClass("show")}else{t.toggleClass("wrong")}})});g.each(".quiz > p",function(t){t.addEventListener("click",function(e){t.parentNode.toggleClass("show")})});g.each(".quiz > p:first-child",function(e){const t=e.parentNode;let n="choice";if(t.hasClass("true")||t.hasClass("false"))n="true_false";if(t.hasClass("multi"))n="multiple";if(t.hasClass("fill"))n="gap_fill";if(t.hasClass("essay"))n="essay";e.attr("data-type",LOCAL.quiz[n])});g.each(".quiz .mistake",function(e){e.attr("data-type",LOCAL.quiz.mistake)});g.each("div.tags a",function(e){e.className=["primary","success","info","warning","danger"][Math.floor(Math.random()*5)]});g.each(".md div.player",function(e){n(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()})};const ge=function(){let r;g.each("div.tab",function(n,e){if(n.attr("data-ready"))return;const t=n.attr("data-id");const i=n.attr("data-title");let a=g("#"+t);if(!a){a=document.createElement("div");a.className="tabs";a.id=t;a.innerHTML='<div class="show-btn"></div>';const c=a.child(".show-btn");c.addEventListener("click",function(e){p(a)});n.parentNode.insertBefore(a,n);r=true}else{r=false}let s=a.child(".nav ul");if(!s){s=a.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul")}const o=s.createChild("li",{innerHTML:i});if(r){o.addClass("active");n.addClass("active")}o.addEventListener("click",function(e){const t=e.currentTarget;a.find(".active").forEach(function(e){e.removeClass("active")});n.addClass("active");t.addClass("active")});a.appendChild(n);n.attr("data-ready",true)})};const ve=function(){const e=g("#comments");if(!e){E.display("none");return}else{E.display("")}if(!window.IntersectionObserver){a("valine")}else{const t=new IntersectionObserver(function(e,t){const n=e[0];a("valine");if(n.isIntersecting||n.intersectionRatio>0){s(g("#comments"),"bounceUpIn");t.disconnect()}});t.observe(e)}};const ye=function(e){if(d.search===null)return;if(!N){N=l.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'})}const t=instantsearch({indexName:d.search.indexName,searchClient:algoliasearch(d.search.appID,d.search.apiKey),searchFunction:function(e){const t=g(".search-input");if(t.value){e.search()}}});t.on("render",function(){e.refresh(g("#search-hits"))});t.addWidgets([instantsearch.widgets.configure({hitsPerPage:d.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:false,showSubmit:false,showLoadingIndicator:false,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text:function(e){const t=LOCAL.search.stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS);return t+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item:function(e){const t=e.categories?"<span>"+e.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+d.root+e.path+'">'+t+e._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:false,showFirst:false,showLast:false,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]);t.start();g.each(".search",function(e){e.addEventListener("click",function(){document.body.style.overflow="hidden";s(N,"shrinkIn",function(){g(".search-input").focus()})})});const n=function(){document.body.style.overflow="";s(N,0)};N.addEventListener("click",function(e){if(e.target===N){n()}});g(".close-btn").addEventListener("click",n);window.addEventListener("pjax:success",n);window.addEventListener("keyup",function(e){if(e.key==="Escape"){n()}})};const be=function(){g.each(".overview .menu > .item",function(e){h.child(".menu").appendChild(e.cloneNode(true))});f.addEventListener("click",H.vanish);w.addEventListener("click",q);g(".dimmer").addEventListener("click",q);Y.child(".down").addEventListener("click",le);Y.child(".up").addEventListener("click",re);if(!x){x=W.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})}k=x.child(".player");L=x.child(".back-to-top");E=x.child(".chat");T=x.child(".contents");L.addEventListener("click",re);E.addEventListener("click",de);T.addEventListener("click",q);n(k);g("main").addEventListener("click",function(){k.player.mini()})};const we=function(){ie();if(C.hasClass("on")){s(C,function(){C.removeClass("on");w.removeClass("close")})}let e=g("#main");e.innerHTML="";e.appendChild(f.lastChild.cloneNode(true));p(0)};const Ce=function(e){O=0;j=window.location.href;a("katex");t("copy_tex");a("mermaid");t("chart");if(!e){g.each("script[data-pjax]",D)}b=document.title;te();ue();oe();ce();he();me();ge();k.player.load(LOCAL.audio||d.audio||{});H.hide();setTimeout(function(){ae()},500);fe();Q.observe()};const xe=function(){be();J=new Pjax({selectors:["head title",".languages",".pjax","script[data-config]"],analytics:false,cacheBust:false});d.quicklink.ignores=LOCAL.ignores;quicklink.listen(d.quicklink);K();ee();Z();ye(J);window.addEventListener("scroll",ne);window.addEventListener("resize",te);window.addEventListener("pjax:send",we);window.addEventListener("pjax:success",Ce);window.addEventListener("beforeunload",function(){ie()});Ce(1)};window.addEventListener("DOMContentLoaded",xe);console.log("%c Theme.Shoka v"+d.version+" %c https://shoka.lostyu.me/ ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;");console.log("%c kaitaku's blog"+"%c https://www.kaitaku.xyz","color: white; background: #00bfff; padding: 5px 3px;","padding: 4px;border:1px solid #00bfff");const e=document.createElement("canvas");e.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999";document.body.appendChild(e);const A=e.getContext("2d");const ke=30;let Le=0;let Ee=0;const Te="click";const Ne=d.fireworks;function Me(){e.width=window.innerWidth*2;e.height=window.innerHeight*2;e.style.width=window.innerWidth+"px";e.style.height=window.innerHeight+"px";e.getContext("2d").scale(2,2)}function Oe(e){Le=e.clientX||e.touches&&e.touches[0].clientX;Ee=e.clientY||e.touches&&e.touches[0].clientY}function je(e){const t=anime.random(0,360)*Math.PI/180;const n=anime.random(50,180);const i=[-1,1][anime.random(0,1)]*n;return{x:e.x+i*Math.cos(t),y:e.y+i*Math.sin(t)}}function Ie(e,t){const n={};n.x=e;n.y=t;n.color=Ne[anime.random(0,Ne.length-1)];n.radius=anime.random(16,32);n.endPos=je(n);n.draw=function(){A.beginPath();A.arc(n.x,n.y,n.radius,0,2*Math.PI,true);A.fillStyle=n.color;A.fill()};return n}function He(e,t){const n={};n.x=e;n.y=t;n.color="#FFF";n.radius=.1;n.alpha=.5;n.lineWidth=6;n.draw=function(){A.globalAlpha=n.alpha;A.beginPath();A.arc(n.x,n.y,n.radius,0,2*Math.PI,true);A.lineWidth=n.lineWidth;A.strokeStyle=n.color;A.stroke();A.globalAlpha=1};return n}function Se(t){for(let e=0;e<t.animatables.length;e++){t.animatables[e].target.draw()}}function qe(t,n){const e=He(t,n);const i=[];for(let e=0;e<ke;e++){i.push(Ie(t,n))}anime.timeline().add({targets:i,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:Se}).add({targets:e,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:Se},0)}const Ae=anime({duration:Infinity,update:function(){A.clearRect(0,0,e.width,e.height)}});document.addEventListener(Te,function(e){Ae.play();Oe(e);qe(Le,Ee)},false);Me();window.addEventListener("resize",Me,false);