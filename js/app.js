var CONFIG={version:"0.2.5",hostname:"https://www.kaitaku.xyz",root:"/",statics:"/",favicon:{normal:"images/favicon.ico",hidden:"images/failure.ico"},darkmode:!1,auto_dark:{enable:!0,start:20,end:7},auto_scroll:!0,js:{chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.12.0/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"},css:{valine:"css/comment.css",katex:"npm/katex@0.12.0/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!0,switch:!1},search:{appID:"Z90S0X07N8",apiKey:"8770deb4853046c6fb7f786f02ab69be",indexName:"kaitaku-blog",hits:{per_page:10}},valine:{appId:null,appKey:null,placeholder:"ヽ(○´∀`)ﾉ♪",avatar:"mp",pageSize:10,lang:"zh-CN",visitor:!0,NoRecordIP:!1,serverURLs:null,powerMode:!0,tagMeta:{visitor:"新朋友",master:"主人",friend:"小伙伴"},tagColor:{master:"var(--color-orange)",friend:"var(--color-aqua)"},tagMember:{master:["2de7163f67f0a70f80092ba199a5c6d3"],friend:["f85cfd95e12ab76153f440a184567a04","0062e907b5b82d231af37c0db7a15dde"]}},quicklink:{timeout:3e3,priority:!0},audio:[{title:"列表1",list:["https://music.163.com/#/playlist?id=2943811283","https://music.163.com/#/playlist?id=2297706586"]},{title:"列表2",list:["https://music.163.com/#/playlist?id=2031842656"]}],fireworks:["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"]};const getRndInteger=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},getDocHeight=function(){return $("main > .inner").offsetHeight},getScript=function(e,a,t){if(t)a();else{let n=document.createElement("script");n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&!/loaded|complete/.test(n.readyState)||(n.onload=n.onreadystatechange=null,n=void 0,!t&&a&&setTimeout(a,0))},n.src=e,document.head.appendChild(n)}},assetUrl=function(e,t){const n=CONFIG[e][t];return-1<n.indexOf("npm")||-1<n.indexOf("gh")||-1<n.indexOf("combine")?"https://jsd.kaitaku.xyz/"+n:-1<n.indexOf("http")?n:"/"+n},vendorJs=function(e,t,n){LOCAL[e]&&getScript(assetUrl("js",e),t||function(){window[e]=!0},n||window[e])},vendorCss=function(e,t){window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:assetUrl("css",e)}),window["css"+e]=!0)},pjaxScript=function(e){var t=e.text||e.textContent||e.innerHTML||"";const n=e.parentNode,a=(n.removeChild(e),document.createElement("script"));e.id&&(a.id=e.id),e.className&&(a.className=e.className),e.type&&(a.type=e.type),e.src&&(a.src=e.src,a.async=!1),void 0!==e.dataset.pjax&&(a.dataset.pjax=""),""!==t&&a.appendChild(document.createTextNode(t)),n.appendChild(a)},pageScroll=function(e,t,n){t={targets:"number"==typeof t?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||("number"==typeof e?e:e?e.top()+document.documentElement.scrollTop-siteNavHeight:0),complete:function(){n&&n()}};anime(t)},transition=function(t,e,n){let a,i="none";switch(e){case 0:a={opacity:[1,0]};break;case 1:a={opacity:[0,1]},i="block";break;case"bounceUpIn":a={begin:function(e){t.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},i="block";break;case"shrinkIn":a={begin:function(e){t.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},i="block";break;case"slideRightIn":a={begin:function(e){t.display("block")},translateX:[100,0],opacity:[0,1]},i="block";break;case"slideRightOut":a={translateX:[0,100],opacity:[1,0]};break;default:a=e,i=e.display}anime(Object.assign({targets:t,duration:200,easing:"linear"},a)).finished.then(function(){t.display(i),n&&n()})},store={get:function(e){return localStorage.getItem(e)},set:function(e,t){return localStorage.setItem(e,t),t},del:function(e){localStorage.removeItem(e)}},$=function(e,t){return t=t||document,0===e.indexOf("#")?t.getElementById(e.replace("#","")):t.querySelector(e)};$.all=function(e,t){return(t=t||document).querySelectorAll(e)},$.each=function(e,t,n){return $.all(e,n).forEach(t)},Object.assign(HTMLElement.prototype,{createChild:function(e,t,n){var a=document.createElement(e);switch(Object.assign(a,t),n){case"after":this.insertAfter(a);break;case"replace":this.innerHTML="";default:this.appendChild(a)}return a},wrap:function(e){const t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},height:function(e){return e&&(this.style.height="number"==typeof e?e+"rem":e),this.getBoundingClientRect().height},width:function(e){return e&&(this.style.width="number"==typeof e?e+"rem":e),this.getBoundingClientRect().width},top:function(){return this.getBoundingClientRect().top},left:function(){return this.getBoundingClientRect().left},attr:function(e,t){return null===t?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter:function(e){const t=this.parentNode;t.lastChild===this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display:function(e){return null==e?this.style.display:(this.style.display=e,this)},child:function(e){return $(e,this)},find:function(e){return $.all(e,this)},_class:function(t,e,n){const a=e.indexOf(" ")?e.split(" "):[e],i=this;a.forEach(function(e){"toggle"===t?i.classList.toggle(e,n):i.classList[t](e)})},addClass:function(e){return this._class("add",e),this},removeClass:function(e){return this._class("remove",e),this},toggleClass:function(e,t){return this._class("toggle",e,t),this},hasClass:function(e){return this.classList.contains(e)}});let NOWPLAYING=null;const isMobile=/mobile/i.test(window.navigator.userAgent),mediaPlayer=function(s,e){const a={el:{},create:function(){if(s.player.options.btns){const e=this;s.player.options.btns.forEach(function(t){e.el[t]||(e.el[t]=s.createChild("div",{className:t+" btn",onclick:function(e){s.player.fetch().then(function(){s.player.options.events[t](e)})}}))})}}},r={el:null,btns:{},step:"next",create:function(){if(s.player.options.controls){const n=this;s.player.options.controls.forEach(function(t){if(!n.btns[t]){const e={onclick:function(e){(n.events[t]?n:s.player.options).events[t](e)}};switch(t){case"volume":e.className=" "+(c.muted?"off":"on"),e.innerHTML='<div class="bar"></div>',e["on"+d.nameMap.dragStart]=n.events.volume,e.onclick=null;break;case"mode":e.className=" "+s.player.options.mode;break;default:e.className=""}e.className=t+e.className+" btn",n.btns[t]=n.el.createChild("div",e)}}),n.btns.volume.bar=n.btns.volume.child(".bar")}},events:{mode:function(e){switch(s.player.options.mode){case"loop":s.player.options.mode="random";break;case"random":s.player.options.mode="order";break;default:s.player.options.mode="loop"}r.btns.mode.className="mode "+s.player.options.mode+" btn",store.set("_PlayerMode",s.player.options.mode)},volume:function(e){e.preventDefault();const t=e.currentTarget;let n=!1;const a=function(e){e.preventDefault(),s.player.volume(r.percent(e,t)),n=!0},i=function(e){e.preventDefault(),t.removeEventListener(d.nameMap.dragEnd,i),t.removeEventListener(d.nameMap.dragMove,a),n?(s.player.muted(),s.player.volume(r.percent(e,t))):c.muted?(s.player.muted(),s.player.volume(c.volume)):(s.player.muted("muted"),r.update(0))};t.addEventListener(d.nameMap.dragMove,a),t.addEventListener(d.nameMap.dragEnd,i)},backward:function(e){r.step="prev",s.player.mode()},forward:function(e){r.step="next",s.player.mode()}},update:function(e){r.btns.volume.className="volume "+(!c.muted&&0<e?"on":"off")+" btn",r.btns.volume.bar.width(Math.floor(100*e)+"%")},percent:function(e,t){e=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width(),e=Math.max(e,0);return Math.min(e,1)}},o={el:null,bar:null,create:function(){const e=l.current().el;e&&(this.el&&(this.el.parentNode.removeClass("current").removeEventListener(d.nameMap.dragStart,this.drag),this.el.remove()),this.el=e.createChild("div",{className:"progress"}),this.el.attr("data-dtime",d.secondToTime(0)),this.bar=this.el.createChild("div",{className:"bar"}),e.addClass("current"),e.addEventListener(d.nameMap.dragStart,this.drag),l.scroll())},update:function(e){this.bar.width(Math.floor(100*e)+"%"),this.el.attr("data-ptime",d.secondToTime(e*c.duration))},seeking:function(e){e?this.el.addClass("seeking"):this.el.removeClass("seeking")},percent:function(e,t){e=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width(),e=Math.max(e,0);return Math.min(e,1)},drag:function(e){e.preventDefault();const t=l.current().el,n=function(e){e.preventDefault();e=o.percent(e,t);o.update(e),u.update(e*c.duration)},a=function(e){e.preventDefault(),t.removeEventListener(d.nameMap.dragEnd,a),t.removeEventListener(d.nameMap.dragMove,n);e=o.percent(e,t);o.update(e),s.player.seek(e*c.duration),c.disableTimeupdate=!1,o.seeking(!1)};c.disableTimeupdate=!0,o.seeking(!0),t.addEventListener(d.nameMap.dragMove,n),t.addEventListener(d.nameMap.dragEnd,a)}},n={el:null,create:function(){var e=l.current();this.el.innerHTML='<div class="cover"><div class="disc"><img src="'+e.cover+'" class="blur" /></div></div><div class="info"><h4 class="title">'+e.name+"</h4><span>"+e.artist+'</span><div class="lrc"></div></div>',this.el.child(".cover").addEventListener("click",s.player.options.events["play-pause"]),u.create(this.el.child(".lrc"))}};let c;const l={el:null,data:[],index:-1,errnum:0,add:function(n,e){const a=this;e.forEach(function(e,t){e.group=n,e.name=e.name||e.title||"Meida name",e.artist=e.artist||e.author||"Anonymous",e.cover=e.cover||e.pic,e.type=e.type||"normal",a.data.push(e)})},clear:function(){this.data=[],this.el.innerHTML="",-1!==this.index&&(this.index=-1,s.player.fetch())},create:function(){const i=this.el;this.data.map(function(t,n){if(!t.el){var a="list-"+s.player._id+"-"+t.group;let e=$("#"+a);return e||(e=i.createChild("div",{id:a,className:s.player.group?"tab":"",innerHTML:"<ol></ol>"}),s.player.group&&e.attr("data-title",s.player.options.rawList[t.group].title).attr("data-id",s.player._id)),t.el=e.child("ol").createChild("li",{title:t.name+" - "+t.artist,innerHTML:'<span class="info"><span>'+t.name+"</span><span>"+t.artist+"</span></span>",onclick:function(e){var t=e.currentTarget;l.index===n&&o.el?c.paused?s.player.play():s.player.seek(c.duration*o.percent(e,t)):(s.player.switch(n),s.player.play())}}),t}}),tabFormat()},current:function(){return this.data[this.index]},scroll:function(){var e=this.current();let t=this.el.child("li.active"),n=(t&&t.removeClass("active"),this.el.child(".tab.active"));return n&&n.removeClass("active"),(t=this.el.find(".nav li")[e.group])&&t.addClass("active"),(n=this.el.find(".tab")[e.group])&&n.addClass("active"),pageScroll(e.el,e.el.offsetTop),this},title:function(){var e;c.paused||(e=this.current(),document.title="Now Playing..."+e.name+" - "+e.artist+" | "+originTitle)},error:function(){const e=this.current();e.el.removeClass("current").addClass("error"),e.error=!0,this.errnum++}},t={el:null,create:function(){this.el||(this.el=s.createChild("div",{className:"player-info",innerHTML:("audio"===s.player.options.type?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),n.el=this.el.child(".preview"),l.el=this.el.child(".playlist"),r.el=this.el.child(".controller"))},hide:function(){const e=this.el;e.addClass("hide"),window.setTimeout(function(){e.removeClass("show hide")},300)}};let i={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause":function(e){c.paused?s.player.play():s.player.pause()},music:function(e){t.el.hasClass("show")?t.hide():(t.el.addClass("show"),l.scroll().title())}}},d={random:function(e){return Math.floor(Math.random()*e)},parse:function(a){let i=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(function(e){const t=new RegExp(e[0]);var n=t.exec(a);null!==n&&(i=[e[1],e[2],n[1]])}),i},fetch:function(t){const s=[];return new Promise(function(i,e){t.forEach(function(e){var t=d.parse(e);if(t[0]){const a=JSON.stringify(t);var n=store.get(a);n?(s.push.apply(s,JSON.parse(n)),i(s)):fetch("https://api.i-meto.com/meting/api?server="+t[0]+"&type="+t[1]+"&id="+t[2]+"&r="+Math.random()).then(function(e){return e.json()}).then(function(e){store.set(a,JSON.stringify(e)),s.push.apply(s,e),i(s)}).catch(function(e){})}else s.push(e),i(s)})})},secondToTime:function(e){const t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return(0<t?[t,n,a]:[n,a]).map(function(e){return isNaN(e)?"00":e<10?"0"+e:""+e}).join(":")},nameMap:{dragStart:isMobile?"touchstart":"mousedown",dragMove:isMobile?"touchmove":"mousemove",dragEnd:isMobile?"touchend":"mouseup"}};c=null,s.player={_id:d.random(999999),group:!0,load:function(e){let t="";e&&0<e.length?this.options.rawList!==e&&(this.options.rawList=e,l.clear()):(t="none",this.pause());for(const n in a.el)a.el[n].display(t);return this},fetch:function(){const o=this;return new Promise(function(e,t){if(0<l.data.length)e();else if(o.options.rawList){const n=[];o.options.rawList.forEach(function(i,s){n.push(new Promise(function(t,e){let n=s,a;a=i.list?(o.group=!0,i.list):(n=0,o.group=!1,[i]),d.fetch(a).then(function(e){l.add(n,e),t()})}))}),Promise.all(n).then(function(){e(!0)})}}).then(function(e){e&&(l.create(),r.create(),o.mode())})},mode:function(){const t=l.data.length;if(t&&l.errnum!==t){const n="next"===r.step?1:-1,a=function(){let e=l.index+n;(e>t||e<0)&&(e="next"===r.step?0:t-1),l.index=e};function e(){var e=d.random(t);l.index!==e?l.index=e:a()}switch(this.options.mode){case"random":e();break;case"order":a();break;case"loop":r.step&&a(),-1===l.index&&e()}this.init()}},switch:function(e){"number"==typeof e&&e!==l.index&&l.current()&&!l.current().error&&(l.index=e,this.init())},init:function(){var t=l.current();if(!t||t.error)this.mode();else{let e=!1;c.paused||(e=!0,this.stop()),c.attr("src",t.url),c.attr("title",t.name+" - "+t.artist),this.volume(store.get("_PlayerVolume")||"0.7"),this.muted(store.get("_PlayerMuted")),o.create(),"audio"===this.options.type&&n.create(),!0===e&&this.play()}},play:function(){NOWPLAYING&&NOWPLAYING.player.pause(),l.current().error?this.mode():c.play().then(function(){l.scroll()}).catch(function(e){})},pause:function(){c.pause(),document.title=originTitle},stop:function(){c.pause(),c.currentTime=0,document.title=originTitle},seek:function(e){e=Math.max(e,0),e=Math.min(e,c.duration),c.currentTime=e,o.update(e/c.duration)},muted:function(e){"muted"===e?(c.muted=e,store.set("_PlayerMuted",e),r.update(0)):(store.del("_PlayerMuted"),c.muted=!1,r.update(c.volume))},volume:function(e){isNaN(e)||(r.update(e),store.set("_PlayerVolume",e),c.volume=e)},mini:function(){t.hide()}};const u={el:null,data:null,index:0,create:function(t){const n=l.index,a=this,e=l.current().lrc;function i(e){if(n===l.index){a.data=a.parse(e);let n="";a.data.forEach(function(e,t){n+="<p"+(0===t?' class="current"':"")+">"+e[1]+"</p>"}),a.el=t.createChild("div",{className:"inner",innerHTML:n},"replace"),a.index=0}}e.startsWith("http")?this.fetch(e,i):i(e)},update:function(t){if(this.data&&(this.index>this.data.length-1||t<this.data[this.index][0]||!this.data[this.index+1]||t>=this.data[this.index+1][0]))for(let e=0;e<this.data.length;e++){var n;t>=this.data[e][0]&&(!this.data[e+1]||t<this.data[e+1][0])&&(this.index=e,n=-(this.index-1),this.el.style.transform="translateY("+n+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[e].addClass("current"))}},parse:function(e){if(e){const l=(e=e.replace(/([^\]^\n])\[/g,function(e,t){return t+"\n["})).split("\n");let t=[];var n=l.length;for(let e=0;e<n;e++){var a=l[e].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),i=l[e].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(a){var s=a.length;for(let e=0;e<s;e++){var o=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(a[e]),r=60*o[1],c=parseInt(o[2]),o=o[4]?parseInt(o[4])/(2===(o[4]+"").length?100:1e3):0;t.push([r+c+o,i])}}}return(t=t.filter(function(e){return e[1]})).sort(function(e,t){return e[0]-t[0]}),t}return[]},fetch:function(e,t){fetch(e).then(function(e){return e.text()}).then(function(e){t(e)}).catch(function(e){})}},h={onerror:function(){l.error(),s.player.mode()},ondurationchange:function(){1!==c.duration&&o.el.attr("data-dtime",d.secondToTime(c.duration))},onloadedmetadata:function(){s.player.seek(0),o.el.attr("data-dtime",d.secondToTime(c.duration))},onplay:function(){s.parentNode.addClass("playing"),showtip(this.attr("title")),NOWPLAYING=s},onpause:function(){s.parentNode.removeClass("playing"),NOWPLAYING=null},ontimeupdate:function(){this.disableTimeupdate||(o.update(this.currentTime/this.duration),u.update(this.currentTime))},onended:function(e){s.player.mode(),s.player.play()}};return s.player.created||(s.player.options=Object.assign(i,e),s.player.options.mode=store.get("_PlayerMode")||s.player.options.mode,a.create(),c=s.createChild(s.player.options.type,h),t.create(),s.parentNode.addClass(s.player.options.type),s.player.created=!0),s},statics=0<CONFIG.statics.indexOf("//")?CONFIG.statics:CONFIG.root,scrollAction={x:"undefined",y:"undefined"};let diffY=0,originTitle,titleTime;const BODY=document.getElementsByTagName("body")[0],HTML=document.documentElement,Container=$("#container"),loadCat=$("#loading"),siteNav=$("#nav"),siteHeader=$("#header"),menuToggle=siteNav.child(".toggle"),quickBtn=$("#quick"),sideBar=$("#sidebar"),siteBrand=$("#brand");let toolBtn=$("#tool"),toolPlayer,backToTop,goToComment,showContents,siteSearch=$("#search"),siteNavHeight,headerHightInner,headerHight,oWinHeight=window.innerHeight,oWinWidth=window.innerWidth,LOCAL_HASH=0,LOCAL_URL=window.location.href,pjax;const changeTheme=function(e){const t=$(".theme .ic");"dark"===e?(HTML.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(HTML.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},autoDarkmode=function(){CONFIG.auto_dark.enable&&((new Date).getHours()>=CONFIG.auto_dark.start||(new Date).getHours()<=CONFIG.auto_dark.end||window.matchMedia("(prefers-color-scheme:dark)").matches?changeTheme("dark"):changeTheme())},lazyload=lozad("img, [data-background-image]",{loaded:function(e){e.addClass("lozaded")}}),Loader={timer:null,lock:!1,show:function(){clearTimeout(this.timer),document.body.removeClass("loaded"),loadCat.attr("style","display:block"),Loader.lock=!1},hide:function(e){CONFIG.loader.start||(e=-1),this.timer=setTimeout(this.vanish,e||3e3)},vanish:function(){Loader.lock||(CONFIG.loader.start&&transition(loadCat,0),document.body.addClass("loaded"),Loader.lock=!0)}},changeMetaTheme=function(e){"dark"===HTML.attr("data-theme")&&(e="#222"),$('meta[name="theme-color"]').attr("content",e)},themeColorListener=function(){window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){e.matches?changeTheme("dark"):changeTheme()});var e=store.get("theme");e?changeTheme(e):CONFIG.darkmode&&changeTheme("dark"),$(".theme").addEventListener("click",function(e){let t;function n(){transition(i,{delay:2500,opacity:0},function(){BODY.removeChild(i)})}const a=e.currentTarget.child(".ic"),i=BODY.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'});t=a.hasClass("i-sun")?function(){i.addClass("dark"),changeTheme("dark"),store.set("theme","dark"),n()}:(i.addClass("dark"),function(){i.removeClass("dark"),changeTheme(),store.set("theme","light"),n()}),transition(i,1,function(){setTimeout(t,210)})})},visibilityListener=function(){let e=$('[rel="icon"]');document.addEventListener("visibilitychange",function(){switch(document.visibilityState){case"hidden":e.attr("href",statics+CONFIG.favicon.hidden),document.title=LOCAL.favicon.hide,CONFIG.loader.switch&&Loader.show(),clearTimeout(titleTime);break;case"visible":e.attr("href",statics+CONFIG.favicon.normal),document.title=LOCAL.favicon.show,CONFIG.loader.switch&&Loader.hide(1e3),titleTime=setTimeout(function(){document.title=originTitle},2e3)}})},showtip=function(e){if(e){const t=BODY.createChild("div",{innerHTML:e,className:"tip"});setTimeout(function(){t.addClass("hide"),setTimeout(function(){BODY.removeChild(t)},300)},3e3)}},resizeHandle=function(e){siteNavHeight=siteNav.height(),headerHightInner=siteHeader.height(),headerHight=headerHightInner+$("#waves").height(),oWinWidth!==window.innerWidth&&sideBarToggleHandle(null,1),oWinHeight=window.innerHeight,oWinWidth=window.innerWidth,sideBar.child(".panels").height(oWinHeight+"px")},scrollHandle=function(e){var t=window.innerHeight,n=getDocHeight(),n=t<n?n-t:document.body.scrollHeight-t,t=window.scrollY>headerHightInner,a=0<window.scrollY,a=(t?changeMetaTheme("#FFF"):changeMetaTheme("#222"),siteNav.toggleClass("show",t),toolBtn.toggleClass("affix",a),siteBrand.toggleClass("affix",a),sideBar.toggleClass("affix",window.scrollY>headerHight&&991<document.body.offsetWidth),void 0===scrollAction.y&&(scrollAction.y=window.scrollY),(diffY=scrollAction.y-window.scrollY)<0?(siteNav.removeClass("up"),siteNav.toggleClass("down",t)):0<diffY&&(siteNav.removeClass("down"),siteNav.toggleClass("up",t)),scrollAction.y=window.scrollY,Math.round(Math.min(100*window.scrollY/n,100))+"%");backToTop.child("span").innerText=a,$(".percent").width(a)},pagePosition=function(){CONFIG.auto_scroll&&store.set(LOCAL_URL,scrollAction.y)},positionInit=function(e){var t,n=window.location.hash;LOCAL_HASH?store.del(LOCAL_URL):((t=n?$(decodeURI(n)):CONFIG.auto_scroll?parseInt(store.get(LOCAL_URL)):0)&&(pageScroll(t),LOCAL_HASH=1),e&&n&&!LOCAL_HASH&&(pageScroll(t),LOCAL_HASH=1))},clipBoard=function(e,t){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(function(){t&&t(!0)},function(){t&&t(!1)});else{const a=BODY.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:e}),i=document.getSelection();var n=0<i.rangeCount&&i.getRangeAt(0),e=(a.select(),a.setSelectionRange(0,e.length),a.readOnly=!1,document.execCommand("copy"));t&&t(e),a.blur(),n&&(i.removeAllRanges(),i.addRange(n)),BODY.removeChild(a)}},sideBarToggleHandle=function(e,t){sideBar.hasClass("on")?(sideBar.removeClass("on"),menuToggle.removeClass("close"),t?sideBar.style="":transition(sideBar,"slideRightOut")):t?sideBar.style="":transition(sideBar,"slideRightIn",function(){sideBar.addClass("on"),menuToggle.addClass("close")})},sideBarTab=function(){const e=sideBar.child(".inner");sideBar.find(".panel"),sideBar.child(".tab")&&e.removeChild(sideBar.child(".tab"));let s=document.createElement("ul"),o="active";s.className="tab",["contents","related","overview"].forEach(function(e){const t=sideBar.child(".panel."+e);if(t.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1)"contents"===e&&showContents.display("none");else{"contents"===e&&showContents.display("");const a=document.createElement("li"),i=document.createElement("span");var n=document.createTextNode(t.attr("data-title"));i.appendChild(n),a.appendChild(i),a.addClass(e+" item"),o?(t.addClass(o),a.addClass(o)):t.removeClass("active"),a.addEventListener("click",function(e){const t=event.currentTarget;t.hasClass("active")||(sideBar.find(".tab .item").forEach(function(e){e.removeClass("active")}),sideBar.find(".panel").forEach(function(e){e.removeClass("active")}),sideBar.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))}),s.appendChild(a),o=""}}),1<s.childNodes.length?(e.insertBefore(s,e.childNodes[0]),sideBar.child(".panels").style.paddingTop=""):sideBar.child(".panels").style.paddingTop=".625rem"},sidebarTOC=function(){function o(t){const n=e[t];if(n&&!n.hasClass("current")){$.each(".toc .active",function(e){e&&e.removeClass("active current")}),i.forEach(function(e){e&&e.removeClass("active")}),n.addClass("active current"),i[t]&&i[t].addClass("active");let e=n.parentNode;for(;!e.matches(".contents");){if(e.matches("li")){e.addClass("active");const a=$(e.child("a.toc-link").attr("href"));a&&a.addClass("active")}e=e.parentNode}"none"!==getComputedStyle(sideBar).display&&s.hasClass("active")&&pageScroll(s,n.offsetTop-s.offsetHeight/4)}}const e=$.all(".contents li");if(e.length<1)return;let i=Array.prototype.slice.call(e)||[],r=null;i=i.map(function(e,t){const n=e.child("a.toc-link"),a=$(decodeURI(n.attr("href")));if(a){const i=a.child("a.anchor"),s=function(e){e.preventDefault();e=$(decodeURI(e.currentTarget.attr("href")));r=t,pageScroll(e,null,function(){o(t),r=null})};return n.addEventListener("click",s),i&&i.addEventListener("click",function(e){s(e),clipBoard(CONFIG.hostname+"/"+LOCAL.path+e.currentTarget.attr("href"))}),a}});const s=sideBar.child(".contents.panel");if(window.IntersectionObserver){const t=new IntersectionObserver(function(e,t){e=function(e){let t=0,n=e[t];if(0<n.boundingClientRect.top)return 0===(t=i.indexOf(n.target))?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return i.indexOf(n.target);n=e[t]}return i.indexOf(n.target)}(e)+(diffY<0?1:0);null===r&&o(e)},{rootMargin:"0px 0px -100% 0px",threshold:0});i.forEach(function(e){e&&t.observe(e)})}},backToTopHandle=function(){pageScroll(0)},goToBottomHandle=function(){pageScroll(parseInt(Container.height()))},goToCommentHandle=function(){pageScroll($("#comments"))},menuActive=function(){$.each(".menu .item:not(.title)",function(e){var t,n,a=e.child("a[href]");const i=e.parentNode.parentNode;a&&(t=a.pathname===location.pathname||a.pathname===location.pathname.replace("index.html",""),n=!CONFIG.root.startsWith(a.pathname)&&location.pathname.startsWith(a.pathname),a=a.hostname===location.hostname&&(t||n),e.toggleClass("active",a),e.parentNode.child(".active")&&i.hasClass("dropdown")?i.removeClass("active").addClass("expand"):i.removeClass("expand"))})},cardActive=function(){if($(".index.wrap")){if(window.IntersectionObserver){const t=new IntersectionObserver(function(e){e.forEach(function(e){e.target.hasClass("show")?t.unobserve(e.target):(e.isIntersecting||0<e.intersectionRatio)&&(e.target.addClass("show"),t.unobserve(e.target))})},{root:null,threshold:[.3]});$.each(".index.wrap article.item, .index.wrap section.item",function(e){t.observe(e)}),$(".index.wrap .item:first-child").addClass("show")}else $.each(".index.wrap article.item, .index.wrap section.item",function(e){!1===e.hasClass("show")&&e.addClass("show")});$.each(".cards .item",function(t,e){["mouseenter","touchstart"].forEach(function(e){t.addEventListener(e,function(e){$(".cards .item.active")&&$(".cards .item.active").removeClass("active"),t.addClass("active")},{passive:!0})}),["mouseleave"].forEach(function(e){t.addEventListener(e,function(e){t.removeClass("active")},{passive:!0})})})}},registerExtURL=function(){$.each("span.exturl",function(e){const t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)})},postFancybox=function(e){$(e+" .md img")&&(vendorCss("fancybox"),vendorJs("fancybox",function(){const r=jQuery.noConflict();$.each(e+" p.gallery",function(e){const t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||220),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()}),$.each(e+" .md img:not(.emoji):not(.vemoji)",function(e){const t=r(e);var n=t.attr("data-src")||t.attr("src");const a=t.wrap('<a class="fancybox" href="'+n+'" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>').parent("a");let i,s="image-info";if(t.is("a img")||(t.data("safe-src",n),t.is(".gallery img")?s="jg-caption":a.attr("data-fancybox","default").attr("rel","default")),i=e.attr("title")){a.attr("data-caption",i);const o=document.createElement("span");n=document.createTextNode(i);o.appendChild(n),o.addClass(s),e.insertAfter(o)}}),$.each(e+" div.gallery",function(e,n){r(e).justifiedGallery({rowHeight:r(e).data("height")||120,rel:"gallery-"+n}).on("jg.complete",function(){r(this).find("a").each(function(e,t){t.attr("data-fancybox","gallery-"+n)})})}),r.fancybox.defaults.hash=!1,r(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},window.jQuery))},postBeauty=function(){loadComments(),$(".md")&&(postFancybox(".post.block"),$(".post.block").oncopy=function(e){if(showtip(LOCAL.copyright),LOCAL.nocopy)e.preventDefault();else{const s=$("#copyright");if(30<window.getSelection().toString().length&&s){e.preventDefault();var t="# "+s.child(".author").innerText,n="# "+s.child(".link").innerText,a="# "+s.child(".license").innerText,i=t+"<br>"+n+"<br>"+a+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),t=t+"\n"+n+"\n"+a+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",i),e.clipboardData.setData("text/plain",t);else if(window.clipboardData)return window.clipboardData.setData("text",t)}}},$.each("li ruby",function(e){let t=e.parentNode;(t="LI"!==e.parentNode.tagName?e.parentNode.parentNode:t).addClass("ruby")}),$.each("ol[start]",function(e){e.style.counterReset="counter "+parseInt(e.attr("start")-1)}),$.each(".md table",function(e){e.wrap({className:"table-container"})}),$.each(".highlight > .table-container",function(e){e.className="code-container"}),$.each("figure.highlight",function(n){const i=n.child(".code-container"),e=n.child("figcaption"),t=(n.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>'),n.child(".copy-btn")),a=(LOCAL.nocopy?t.remove():(t.addEventListener("click",function(e){const t=e.currentTarget;let n="",a="";i.find("pre").forEach(function(e){a+=n+e.innerText,n="\n"}),clipBoard(a,function(e){t.child(".ic").className=e?"ic i-check":"ic i-times",t.blur(),showtip(LOCAL.copyright)})},{passive:!0}),t.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.child(".ic").className="ic i-clipboard"},1e3)})),n.child(".breakline-btn")),s=(a.addEventListener("click",function(e){const t=e.currentTarget;n.hasClass("breakline")?(n.removeClass("breakline"),t.child(".ic").className="ic i-align-left"):(n.addClass("breakline"),t.child(".ic").className="ic i-align-justify")}),n.child(".fullscreen-btn")),o=function(){n.removeClass("fullscreen"),n.scrollTop=0,BODY.removeClass("fullscreen"),s.child(".ic").className="ic i-expand"};function r(e){e.currentTarget,n.hasClass("fullscreen")?(o(),hideCode&&hideCode(),pageScroll(n)):(n.addClass("fullscreen"),BODY.addClass("fullscreen"),s.child(".ic").className="ic i-compress",showCode&&showCode())}if(s.addEventListener("click",r),e&&e.addEventListener("click",r),i&&15<i.find("tr").length){i.style.maxHeight="300px",i.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');const c=i.child(".show-btn"),showCode=function(){i.style.maxHeight="",c.addClass("open")},hideCode=function(){i.style.maxHeight="300px",c.removeClass("open")};c.addEventListener("click",function(e){c.hasClass("open")?(o(),hideCode(),pageScroll(i)):showCode()})}}),$.each("pre.mermaid > svg",function(e){e.style.maxWidth=""}),$.each(".reward button",function(e){e.addEventListener("click",function(e){e.preventDefault();const t=$("#qr");"inline-flex"===t.display()?transition(t,0):transition(t,1,function(){t.display("inline-flex")})})}),$.each(".quiz > ul.options li",function(t){t.addEventListener("click",function(e){t.hasClass("correct")?(t.toggleClass("right"),t.parentNode.parentNode.addClass("show")):t.toggleClass("wrong")})}),$.each(".quiz > p",function(t){t.addEventListener("click",function(e){t.parentNode.toggleClass("show")})}),$.each(".quiz > p:first-child",function(e){const t=e.parentNode;let n="choice";(t.hasClass("true")||t.hasClass("false"))&&(n="true_false"),t.hasClass("multi")&&(n="multiple"),t.hasClass("fill")&&(n="gap_fill"),t.hasClass("essay")&&(n="essay"),e.attr("data-type",LOCAL.quiz[n])}),$.each(".quiz .mistake",function(e){e.attr("data-type",LOCAL.quiz.mistake)}),$.each("div.tags a",function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]}),$.each(".md div.player",function(e){mediaPlayer(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()}))},tabFormat=function(){let r;$.each("div.tab",function(a,e){if(!a.attr("data-ready")){var t=a.attr("data-id"),i=a.attr("data-title");let n=$("#"+t);if(n)r=!1;else{(n=document.createElement("div")).className="tabs",n.id=t,n.innerHTML='<div class="show-btn"></div>';const o=n.child(".show-btn");o.addEventListener("click",function(e){pageScroll(n)}),a.parentNode.insertBefore(n,a),r=!0}let e=n.child(".nav ul");const s=(e=e||n.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul")).createChild("li",{innerHTML:i});r&&(s.addClass("active"),a.addClass("active")),s.addEventListener("click",function(e){const t=e.currentTarget;n.find(".active").forEach(function(e){e.removeClass("active")}),a.addClass("active"),t.addClass("active")}),n.appendChild(a),a.attr("data-ready",!0)}})},loadComments=function(){var e=$("#comments");if(e)if(goToComment.display(""),window.IntersectionObserver){const t=new IntersectionObserver(function(e,t){e=e[0];vendorCss("valine"),(e.isIntersecting||0<e.intersectionRatio)&&(transition($("#comments"),"bounceUpIn"),t.disconnect())});t.observe(e)}else vendorCss("valine");else goToComment.display("none")},algoliaSearch=function(e){if(null!==CONFIG.search){siteSearch=siteSearch||BODY.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'});const t=instantsearch({indexName:CONFIG.search.indexName,searchClient:algoliasearch(CONFIG.search.appID,CONFIG.search.apiKey),searchFunction:function(e){$(".search-input").value&&e.search()}}),n=(t.on("render",function(){e.refresh($("#search-hits"))}),t.addWidgets([instantsearch.widgets.configure({hitsPerPage:CONFIG.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text:function(e){return LOCAL.search.stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item:function(e){var t=e.categories?"<span>"+e.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+CONFIG.root+e.path+'">'+t+e._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),t.start(),$.each(".search",function(e){e.addEventListener("click",function(){document.body.style.overflow="hidden",transition(siteSearch,"shrinkIn",function(){$(".search-input").focus()})})}),function(){document.body.style.overflow="",transition(siteSearch,0)});siteSearch.addEventListener("click",function(e){e.target===siteSearch&&n()}),$(".close-btn").addEventListener("click",n),window.addEventListener("pjax:success",n),window.addEventListener("keyup",function(e){"Escape"===e.key&&n()})}},domInit=function(){$.each(".overview .menu > .item",function(e){siteNav.child(".menu").appendChild(e.cloneNode(!0))}),loadCat.addEventListener("click",Loader.vanish),menuToggle.addEventListener("click",sideBarToggleHandle),$(".dimmer").addEventListener("click",sideBarToggleHandle),quickBtn.child(".down").addEventListener("click",goToBottomHandle),quickBtn.child(".up").addEventListener("click",backToTopHandle),toolBtn=toolBtn||siteHeader.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'}),toolPlayer=toolBtn.child(".player"),backToTop=toolBtn.child(".back-to-top"),goToComment=toolBtn.child(".chat"),showContents=toolBtn.child(".contents"),backToTop.addEventListener("click",backToTopHandle),goToComment.addEventListener("click",goToCommentHandle),showContents.addEventListener("click",sideBarToggleHandle),mediaPlayer(toolPlayer),$("main").addEventListener("click",function(){toolPlayer.player.mini()})},pjaxReload=function(){pagePosition(),sideBar.hasClass("on")&&transition(sideBar,function(){sideBar.removeClass("on"),menuToggle.removeClass("close")});let e=$("#main");e.innerHTML="",e.appendChild(loadCat.lastChild.cloneNode(!0)),pageScroll(0)},siteRefresh=function(e){LOCAL_HASH=0,LOCAL_URL=window.location.href,vendorCss("katex"),vendorJs("copy_tex"),vendorCss("mermaid"),vendorJs("chart"),e||$.each("script[data-pjax]",pjaxScript),originTitle=document.title,resizeHandle(),menuActive(),sideBarTab(),sidebarTOC(),registerExtURL(),postBeauty(),tabFormat(),toolPlayer.player.load(LOCAL.audio||CONFIG.audio||{}),Loader.hide(),setTimeout(function(){positionInit()},500),cardActive(),lazyload.observe()},siteInit=function(){domInit(),pjax=new Pjax({selectors:["head title",".languages",".twikoo",".pjax",".leancloud-recent-comment","script[data-config]"],analytics:!1,cacheBust:!1}),CONFIG.quicklink.ignores=LOCAL.ignores,quicklink.listen(CONFIG.quicklink),autoDarkmode(),visibilityListener(),themeColorListener(),algoliaSearch(pjax),window.addEventListener("scroll",scrollHandle),window.addEventListener("resize",resizeHandle),window.addEventListener("pjax:send",pjaxReload),window.addEventListener("pjax:success",siteRefresh),window.addEventListener("beforeunload",function(){pagePosition()}),siteRefresh(1)},canvasEl=(window.addEventListener("DOMContentLoaded",siteInit),console.log("%c Theme.Shoka v"+CONFIG.version+" %c https://shoka.lostyu.me/ ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;"),console.log("%c kaitaku's blog%c https://www.kaitaku.xyz","color: white; background: #00bfff; padding: 5px 3px;","padding: 4px;border:1px solid #00bfff"),document.createElement("canvas")),ctx=(canvasEl.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(canvasEl),canvasEl.getContext("2d")),numberOfParticules=30;let pointerX=0,pointerY=0;const tap="click",colors=CONFIG.fireworks;function setCanvasSize(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)}function updateCoords(e){pointerX=e.clientX||e.touches&&e.touches[0].clientX,pointerY=e.clientY||e.touches&&e.touches[0].clientY}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,n=anime.random(50,180),n=[-1,1][anime.random(0,1)]*n;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){const n={};return n.x=e,n.y=t,n.color=colors[anime.random(0,colors.length-1)],n.radius=anime.random(16,32),n.endPos=setParticuleDirection(n),n.draw=function(){ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.fillStyle=n.color,ctx.fill()},n}function createCircle(e,t){const n={};return n.x=e,n.y=t,n.color="#FFF",n.radius=.1,n.alpha=.5,n.lineWidth=6,n.draw=function(){ctx.globalAlpha=n.alpha,ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.lineWidth=n.lineWidth,ctx.strokeStyle=n.color,ctx.stroke(),ctx.globalAlpha=1},n}function renderParticule(t){for(let e=0;e<t.animatables.length;e++)t.animatables[e].target.draw()}function animateParticules(t,n){var e=createCircle(t,n);const a=[];for(let e=0;e<numberOfParticules;e++)a.push(createParticule(t,n));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule}).add({targets:e,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule},0)}const render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){render.play(),updateCoords(e),animateParticules(pointerX,pointerY)},!1),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1);