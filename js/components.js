const canvasEl=document.createElement("canvas"),ctx=(canvasEl.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(canvasEl),canvasEl.getContext("2d")),numberOfParticules=30;let pointerX=0,pointerY=0;const tap="click",colors=CONFIG.fireworks;function setCanvasSize(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)}function updateCoords(e){pointerX=e.clientX||e.touches&&e.touches[0].clientX,pointerY=e.clientY||e.touches&&e.touches[0].clientY}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,n=anime.random(50,180),n=[-1,1][anime.random(0,1)]*n;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,draw:void 0};return n.x=e,n.y=t,n.color=colors[anime.random(0,colors.length-1)],n.radius=anime.random(16,32),n.endPos=setParticuleDirection(n),n.draw=function(){ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.fillStyle=n.color,ctx.fill()},n}function createCircle(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,alpha:void 0,lineWidth:void 0,draw:void 0};return n.x=e,n.y=t,n.color="#FFF",n.radius=.1,n.alpha=.5,n.lineWidth=6,n.draw=function(){ctx.globalAlpha=n.alpha,ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.lineWidth=n.lineWidth,ctx.strokeStyle=n.color,ctx.stroke(),ctx.globalAlpha=1},n}function renderParticule(t){for(let e=0;e<t.animatables.length;e++)t.animatables[e].target.draw()}function animateParticules(t,n){var e=createCircle(t,n);const a=[];for(let e=0;e<numberOfParticules;e++)a.push(createParticule(t,n));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule}).add({targets:e,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule},0)}const render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}}),sideBarToggleHandle=(document.addEventListener(tap,function(e){render.play(),updateCoords(e),animateParticules(pointerX,pointerY)},!1),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1),function(e,t){sideBar.hasClass("on")?(sideBar.removeClass("on"),menuToggle.removeClass("close"),t?sideBar.style="":transition(sideBar,"slideRightOut")):t?sideBar.style="":transition(sideBar,"slideRightIn",function(){sideBar.addClass("on"),menuToggle.addClass("close")})}),sideBarTab=function(){const e=sideBar.child(".inner"),o=(sideBar.find(".panel"),sideBar.child(".tab")&&e.removeChild(sideBar.child(".tab")),document.createElement("ul"));let r="active";o.className="tab",["contents","related","overview"].forEach(function(e){const t=sideBar.child(".panel."+e);if(t.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1)"contents"===e&&showContents.display("none");else{"contents"===e&&showContents.display("");const a=document.createElement("li"),i=document.createElement("span");var n=document.createTextNode(t.attr("data-title"));i.appendChild(n),a.appendChild(i),a.addClass(e+" item"),r?(t.addClass(r),a.addClass(r)):t.removeClass("active"),a.addEventListener("click",function(e){const t=e.currentTarget;t.hasClass("active")||(sideBar.find(".tab .item").forEach(function(e){e.removeClass("active")}),sideBar.find(".panel").forEach(function(e){e.removeClass("active")}),sideBar.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))}),o.appendChild(a),r=""}}),1<o.childNodes.length?(e.insertBefore(o,e.childNodes[0]),sideBar.child(".panels").style.paddingTop=""):sideBar.child(".panels").style.paddingTop=".625rem"},sidebarTOC=function(){function r(t){const n=e[t];if(n&&!n.hasClass("current")){$dom.each(".toc .active",function(e){e&&e.removeClass("active current")}),i.forEach(function(e){e&&e.removeClass("active")}),n.addClass("active current"),i[t]&&i[t].addClass("active");let e=n.parentNode;for(;!e.matches(".contents");){if(e.matches("li")){e.addClass("active");const a=$dom(e.child("a.toc-link").attr("href"));a&&a.addClass("active")}e=e.parentNode}"none"!==getComputedStyle(sideBar).display&&o.hasClass("active")&&pageScroll(o,n.offsetTop-o.offsetHeight/4)}}const e=$dom.all(".contents li");if(e.length<1)return;let i=Array.prototype.slice.call(e)||[],s=null;i=i.map(function(e,t){const n=e.child("a.toc-link"),a=$dom(decodeURI(n.attr("href")));if(a){const i=a.child("a.anchor"),o=function(e){e.preventDefault();e=$dom(decodeURI(e.currentTarget.attr("href")));s=t,pageScroll(e,null,function(){r(t),s=null})};return n.addEventListener("click",o),i&&i.addEventListener("click",function(e){o(e),clipBoard(CONFIG.hostname+"/"+LOCAL.path+e.currentTarget.attr("href"))}),a}});const o=sideBar.child(".contents.panel");if(window.IntersectionObserver){const t=new IntersectionObserver(function(e,t){e=function(e){let t=0,n=e[t];if(0<n.boundingClientRect.top)return 0===(t=i.indexOf(n.target))?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return i.indexOf(n.target);n=e[t]}return i.indexOf(n.target)}(e)+(diffY<0?1:0);null===s&&r(e)},{rootMargin:"0px 0px -100% 0px",threshold:0});i.forEach(function(e){e&&t.observe(e)})}},backToTopHandle=function(){pageScroll(0)},goToBottomHandle=function(){pageScroll(parseInt(String(Container.height())))},goToCommentHandle=function(){pageScroll($dom("#comments"))},menuActive=function(){$dom.each(".menu .item:not(.title)",function(e){var t,n,a=e.child("a[href]");const i=e.parentNode.parentNode;a&&(t=a.pathname===location.pathname||a.pathname===location.pathname.replace("index.html",""),n=!CONFIG.root.startsWith(a.pathname)&&location.pathname.startsWith(a.pathname),a=a.hostname===location.hostname&&(t||n),e.toggleClass("active",a),e.parentNode.child(".active")&&i.hasClass("dropdown")?i.removeClass("active").addClass("expand"):i.removeClass("expand"))})};