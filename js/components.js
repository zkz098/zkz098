const canvasEl=document.createElement("canvas");canvasEl.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(canvasEl);const ctx=canvasEl.getContext("2d"),numberOfParticules=30;let pointerX=0,pointerY=0;const tap="click",colors=CONFIG.fireworks;function setCanvasSize(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)}function updateCoords(e){pointerX=e.clientX||e.touches&&e.touches[0].clientX,pointerY=e.clientY||e.touches&&e.touches[0].clientY}function setParticuleDirection(e){const t=anime.random(0,360)*Math.PI/180,n=anime.random(50,180),a=[-1,1][anime.random(0,1)]*n;return{x:e.x+a*Math.cos(t),y:e.y+a*Math.sin(t)}}function createParticule(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,draw:void 0};return n.x=e,n.y=t,n.color=colors[anime.random(0,colors.length-1)],n.radius=anime.random(16,32),n.endPos=setParticuleDirection(n),n.draw=function(){ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.fillStyle=n.color,ctx.fill()},n}function createCircle(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,alpha:void 0,lineWidth:void 0,draw:void 0};return n.x=e,n.y=t,n.color="#FFF",n.radius=.1,n.alpha=.5,n.lineWidth=6,n.draw=function(){ctx.globalAlpha=n.alpha,ctx.beginPath(),ctx.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ctx.lineWidth=n.lineWidth,ctx.strokeStyle=n.color,ctx.stroke(),ctx.globalAlpha=1},n}function renderParticule(e){for(let t=0;t<e.animatables.length;t++)e.animatables[t].target.draw()}function animateParticules(e,t){const n=createCircle(e,t),a=[];for(let n=0;n<30;n++)a.push(createParticule(e,t));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule}).add({targets:n,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule},0)}const render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,(function(e){render.play(),updateCoords(e),animateParticules(pointerX,pointerY)}),!1),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1);const sideBarToggleHandle=function(e,t){sideBar.hasClass("on")?(sideBar.removeClass("on"),menuToggle.removeClass("close"),t?sideBar.style="":transition(sideBar,"slideRightOut")):t?sideBar.style="":transition(sideBar,"slideRightIn",(function(){sideBar.addClass("on"),menuToggle.addClass("close")}))},sideBarTab=function(){const e=sideBar.child(".inner");sideBar.find(".panel"),sideBar.child(".tab")&&e.removeChild(sideBar.child(".tab"));const t=document.createElement("ul");let n="active";t.className="tab",["contents","related","overview"].forEach((function(e){const a=sideBar.child(".panel."+e);if(a.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1)return void("contents"===e&&showContents.display("none"));"contents"===e&&showContents.display("");const i=document.createElement("li"),o=document.createElement("span"),r=document.createTextNode(a.attr("data-title"));o.appendChild(r),i.appendChild(o),i.addClass(e+" item"),n?(a.addClass(n),i.addClass(n)):a.removeClass("active"),i.addEventListener("click",(function(e){const t=e.currentTarget;t.hasClass("active")||(sideBar.find(".tab .item").forEach((function(e){e.removeClass("active")})),sideBar.find(".panel").forEach((function(e){e.removeClass("active")})),sideBar.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))})),t.appendChild(i),n=""})),t.childNodes.length>1?(e.insertBefore(t,e.childNodes[0]),sideBar.child(".panels").style.paddingTop=""):sideBar.child(".panels").style.paddingTop=".625rem"},sidebarTOC=function(){const e=function(e,a){const o=t[e];if(!o)return;if(o.hasClass("current"))return;$dom.each(".toc .active",(function(e){e&&e.removeClass("active current")})),n.forEach((function(e){e&&e.removeClass("active")})),o.addClass("active current"),n[e]&&n[e].addClass("active");let r=o.parentNode;for(;!r.matches(".contents");){if(r.matches("li")){r.addClass("active");const e=$dom(r.child("a.toc-link").attr("href"));e&&e.addClass("active")}r=r.parentNode}"none"!==getComputedStyle(sideBar).display&&i.hasClass("active")&&pageScroll(i,o.offsetTop-i.offsetHeight/4)},t=$dom.all(".contents li");if(t.length<1)return;let n=Array.prototype.slice.call(t)||[],a=null;n=n.map((function(t,n){const i=t.child("a.toc-link"),o=$dom(decodeURI(i.attr("href")));if(!o)return;const r=o.child("a.anchor"),c=function(t){t.preventDefault();const i=$dom(decodeURI(t.currentTarget.attr("href")));a=n,pageScroll(i,null,(function(){e(n),a=null}))};return i.addEventListener("click",c),r&&r.addEventListener("click",(function(e){c(e),clipBoard(CONFIG.hostname+"/"+LOCAL.path+e.currentTarget.attr("href"))})),o}));const i=sideBar.child(".contents.panel");!function(){if(!window.IntersectionObserver)return;const t=new IntersectionObserver((function(t,i){const o=function(e){let t=0,a=e[t];if(a.boundingClientRect.top>0)return t=n.indexOf(a.target),0===t?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return n.indexOf(a.target);a=e[t]}return n.indexOf(a.target)}(t)+(diffY<0?1:0);null===a&&e(o)}),{rootMargin:"0px 0px -100% 0px",threshold:0});n.forEach((function(e){e&&t.observe(e)}))}()},backToTopHandle=function(){pageScroll(0)},goToBottomHandle=function(){pageScroll(parseInt(String(Container.height())))},goToCommentHandle=function(){pageScroll($dom("#comments"))},menuActive=function(){$dom.each(".menu .item:not(.title)",(function(e){const t=e.child("a[href]"),n=e.parentNode.parentNode;if(!t)return;const a=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html",""),i=!CONFIG.root.startsWith(t.pathname)&&location.pathname.startsWith(t.pathname),o=t.hostname===location.hostname&&(a||i);e.toggleClass("active",o),e.parentNode.child(".active")&&n.hasClass("dropdown")?n.removeClass("active").addClass("expand"):n.removeClass("expand")}))};